!function t(n,e,r){function o(i,a){if(!e[i]){if(!n[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(u)return u(i,!0);throw new Error("Cannot find module '"+i+"'")}var f=e[i]={exports:{}};n[i][0].call(f.exports,function(t){var e=n[i][1][t];return o(e?e:t)},f,f.exports,t,n,e,r)}return e[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,n,e){(function(t){(function(){function r(t,n){if(t!==n){var e=null===t,r=t===O,o=t===t,u=null===n,i=n===O,a=n===n;if(t>n&&!u||!o||e&&!i&&a||r&&a)return 1;if(n>t&&!e||!a||u&&!r&&o||i&&o)return-1}return 0}function o(t,n,e){for(var r=t.length,o=e?r:-1;e?o--:++o<r;)if(n(t[o],o,t))return o;return-1}function u(t,n,e){if(n!==n)return m(t,e);for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1}function i(t){return"function"==typeof t||!1}function a(t){return null==t?"":t+""}function c(t,n){for(var e=-1,r=t.length;++e<r&&n.indexOf(t.charAt(e))>-1;);return e}function f(t,n){for(var e=t.length;e--&&n.indexOf(t.charAt(e))>-1;);return e}function l(t,n){return r(t.criteria,n.criteria)||t.index-n.index}function s(t,n,e){for(var o=-1,u=t.criteria,i=n.criteria,a=u.length,c=e.length;++o<a;){var f=r(u[o],i[o]);if(f){if(o>=c)return f;var l=e[o];return f*("asc"===l||l===!0?1:-1)}}return t.index-n.index}function p(t){return zt[t]}function v(t){return Jt[t]}function h(t,n,e){return n?t=Vt[t]:e&&(t=Yt[t]),"\\"+t}function d(t){return"\\"+Yt[t]}function m(t,n,e){for(var r=t.length,o=n+(e?0:-1);e?o--:++o<r;){var u=t[o];if(u!==u)return o}return-1}function g(t){return!!t&&"object"==typeof t}function y(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,n){for(var e=-1,r=t.length,o=-1,u=[];++e<r;)t[e]===n&&(t[e]=z,u[++o]=e);return u}function b(t,n){for(var e,r=-1,o=t.length,u=-1,i=[];++r<o;){var a=t[r],c=n?n(a,r,t):a;r&&e===c||(e=c,i[++u]=a)}return i}function w(t){for(var n=-1,e=t.length;++n<e&&y(t.charCodeAt(n)););return n}function j(t){for(var n=t.length;n--&&y(t.charCodeAt(n)););return n}function x(t){return Ht[t]}function E(t){function n(t){if(g(t)&&!Pa(t)&&!(t instanceof X)){if(t instanceof y)return t;if(ni.call(t,"__chain__")&&ni.call(t,"__wrapped__"))return vr(t)}return new y(t)}function e(){}function y(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}function X(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ci,this.__views__=[]}function nt(){var t=new X(this.__wrapped__);return t.__actions__=tn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=tn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=tn(this.__views__),t}function rt(){if(this.__filtered__){var t=new X(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function zt(){var t=this.__wrapped__.value(),n=this.__dir__,e=Pa(t),r=0>n,o=e?t.length:0,u=He(0,o,this.__views__),i=u.start,a=u.end,c=a-i,f=r?a:i-1,l=this.__iteratees__,s=l.length,p=0,v=xi(c,this.__takeCount__);if(!e||W>o||o==c&&v==c)return re(r&&e?t.reverse():t,this.__actions__);var h=[];t:for(;c--&&v>p;){f+=n;for(var d=-1,m=t[f];++d<s;){var g=l[d],y=g.iteratee,_=g.type,b=y(m);if(_==q)m=b;else if(!b){if(_==U)continue t;break t}}h[p++]=m}return h}function Jt(){this.__data__={}}function Ht(t){return this.has(t)&&delete this.__data__[t]}function Kt(t){return"__proto__"==t?O:this.__data__[t]}function Vt(t){return"__proto__"!=t&&ni.call(this.__data__,t)}function Yt(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Gt(t){var n=t?t.length:0;for(this.data={hash:gi(null),set:new si};n--;)this.push(t[n])}function Xt(t,n){var e=t.data,r="string"==typeof n||So(n)?e.set.has(n):e.hash[n];return r?0:-1}function Zt(t){var n=this.data;"string"==typeof t||So(t)?n.set.add(t):n.hash[t]=!0}function Qt(t,n){for(var e=-1,r=t.length,o=-1,u=n.length,i=Uu(r+u);++e<r;)i[e]=t[e];for(;++o<u;)i[e++]=n[o];return i}function tn(t,n){var e=-1,r=t.length;for(n||(n=Uu(r));++e<r;)n[e]=t[e];return n}function nn(t,n){for(var e=-1,r=t.length;++e<r&&n(t[e],e,t)!==!1;);return t}function on(t,n){for(var e=t.length;e--&&n(t[e],e,t)!==!1;);return t}function un(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function an(t,n,e,r){for(var o=-1,u=t.length,i=r,a=i;++o<u;){var c=t[o],f=+n(c);e(f,i)&&(i=f,a=c)}return a}function cn(t,n){for(var e=-1,r=t.length,o=-1,u=[];++e<r;){var i=t[e];n(i,e,t)&&(u[++o]=i)}return u}function fn(t,n){for(var e=-1,r=t.length,o=Uu(r);++e<r;)o[e]=n(t[e],e,t);return o}function ln(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}function sn(t,n,e,r){var o=-1,u=t.length;for(r&&u&&(e=t[++o]);++o<u;)e=n(e,t[o],o,t);return e}function pn(t,n,e,r){var o=t.length;for(r&&o&&(e=t[--o]);o--;)e=n(e,t[o],o,t);return e}function vn(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function hn(t,n){for(var e=t.length,r=0;e--;)r+=+n(t[e])||0;return r}function dn(t,n){return t===O?n:t}function mn(t,n,e,r){return t!==O&&ni.call(r,e)?t:n}function gn(t,n,e){for(var r=-1,o=Wa(n),u=o.length;++r<u;){var i=o[r],a=t[i],c=e(a,n[i],i,t,n);(c===c?c===a:a!==a)&&(a!==O||i in t)||(t[i]=c)}return t}function yn(t,n){return null==n?t:bn(n,Wa(n),t)}function _n(t,n){for(var e=-1,r=null==t,o=!r&&Xe(t),u=o?t.length:0,i=n.length,a=Uu(i);++e<i;){var c=n[e];a[e]=o?Ze(c,u)?t[c]:O:r?O:t[c]}return a}function bn(t,n,e){e||(e={});for(var r=-1,o=n.length;++r<o;){var u=n[r];e[u]=t[u]}return e}function wn(t,n,e){var r=typeof t;return"function"==r?n===O?t:ie(t,n,e):null==t?Cu:"object"==r?Wn(t):n===O?Mu(t):Un(t,n)}function jn(t,n,e,r,o,u,i){var a;if(e&&(a=o?e(t,r,o):e(t)),a!==O)return a;if(!So(t))return t;var c=Pa(t);if(c){if(a=Ke(t),!n)return tn(t,a)}else{var f=ri.call(t),l=f==G;if(f!=Q&&f!=J&&(!l||o))return Lt[f]?Ye(t,f,n):o?t:{};if(a=Ve(l?{}:t),!n)return yn(a,t)}u||(u=[]),i||(i=[]);for(var s=u.length;s--;)if(u[s]==t)return i[s];return u.push(t),i.push(a),(c?nn:Nn)(t,function(r,o){a[o]=jn(r,n,e,o,t,u,i)}),a}function xn(t,n,e){if("function"!=typeof t)throw new Gu(L);return pi(function(){t.apply(O,e)},n)}function En(t,n){var e=t?t.length:0,r=[];if(!e)return r;var o=-1,i=Le(),a=i==u,c=a&&n.length>=W?de(n):null,f=n.length;c&&(i=Xt,a=!1,n=c);t:for(;++o<e;){var l=t[o];if(a&&l===l){for(var s=f;s--;)if(n[s]===l)continue t;r.push(l)}else i(n,l,0)<0&&r.push(l)}return r}function On(t,n){var e=!0;return Di(t,function(t,r,o){return e=!!n(t,r,o)}),e}function Rn(t,n,e,r){var o=r,u=o;return Di(t,function(t,i,a){var c=+n(t,i,a);(e(c,o)||c===r&&c===u)&&(o=c,u=t)}),u}function kn(t,n,e,r){var o=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),r=r===O||r>o?o:+r||0,0>r&&(r+=o),o=e>r?0:r>>>0,e>>>=0;o>e;)t[e++]=n;return t}function Cn(t,n){var e=[];return Di(t,function(t,r,o){n(t,r,o)&&e.push(t)}),e}function Pn(t,n,e,r){var o;return e(t,function(t,e,u){return n(t,e,u)?(o=r?e:t,!1):void 0}),o}function An(t,n,e,r){r||(r=[]);for(var o=-1,u=t.length;++o<u;){var i=t[o];g(i)&&Xe(i)&&(e||Pa(i)||Ro(i))?n?An(i,n,e,r):ln(r,i):e||(r[r.length]=i)}return r}function In(t,n){return Bi(t,n,nu)}function Nn(t,n){return Bi(t,n,Wa)}function Tn(t,n){return $i(t,n,Wa)}function Mn(t,n){for(var e=-1,r=n.length,o=-1,u=[];++e<r;){var i=n[e];Mo(t[i])&&(u[++o]=i)}return u}function Sn(t,n,e){if(null!=t){e!==O&&e in sr(t)&&(n=[e]);for(var r=0,o=n.length;null!=t&&o>r;)t=t[n[r++]];return r&&r==o?t:O}}function Dn(t,n,e,r,o,u){return t===n?!0:null==t||null==n||!So(t)&&!g(n)?t!==t&&n!==n:Fn(t,n,Dn,e,r,o,u)}function Fn(t,n,e,r,o,u,i){var a=Pa(t),c=Pa(n),f=H,l=H;a||(f=ri.call(t),f==J?f=Q:f!=Q&&(a=zo(t))),c||(l=ri.call(n),l==J?l=Q:l!=Q&&(c=zo(n)));var s=f==Q,p=l==Q,v=f==l;if(v&&!a&&!s)return $e(t,n,f);if(!o){var h=s&&ni.call(t,"__wrapped__"),d=p&&ni.call(n,"__wrapped__");if(h||d)return e(h?t.value():t,d?n.value():n,r,o,u,i)}if(!v)return!1;u||(u=[]),i||(i=[]);for(var m=u.length;m--;)if(u[m]==t)return i[m]==n;u.push(t),i.push(n);var g=(a?Be:We)(t,n,e,r,o,u,i);return u.pop(),i.pop(),g}function Bn(t,n,e){var r=n.length,o=r,u=!e;if(null==t)return!o;for(t=sr(t);r--;){var i=n[r];if(u&&i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++r<o;){i=n[r];var a=i[0],c=t[a],f=i[1];if(u&&i[2]){if(c===O&&!(a in t))return!1}else{var l=e?e(c,f,a):O;if(!(l===O?Dn(f,c,e,!0):l))return!1}}return!0}function $n(t,n){var e=-1,r=Xe(t)?Uu(t.length):[];return Di(t,function(t,o,u){r[++e]=n(t,o,u)}),r}function Wn(t){var n=ze(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null==t?!1:t[e]===r&&(r!==O||e in sr(t))}}return function(t){return Bn(t,n)}}function Un(t,n){var e=Pa(t),r=tr(t)&&rr(n),o=t+"";return t=pr(t),function(u){if(null==u)return!1;var i=o;if(u=sr(u),!(!e&&r||i in u)){if(u=1==t.length?u:Sn(u,Yn(t,0,-1)),null==u)return!1;i=Rr(t),u=sr(u)}return u[i]===n?n!==O||i in u:Dn(n,u[i],O,!0)}}function qn(t,n,e,r,o){if(!So(t))return t;var u=Xe(n)&&(Pa(n)||zo(n)),i=u?O:Wa(n);return nn(i||n,function(a,c){if(i&&(c=a,a=n[c]),g(a))r||(r=[]),o||(o=[]),Ln(t,n,c,qn,e,r,o);else{var f=t[c],l=e?e(f,a,c,t,n):O,s=l===O;s&&(l=a),l===O&&(!u||c in t)||!s&&(l===l?l===f:f!==f)||(t[c]=l)}}),t}function Ln(t,n,e,r,o,u,i){for(var a=u.length,c=n[e];a--;)if(u[a]==c)return void(t[e]=i[a]);var f=t[e],l=o?o(f,c,e,t,n):O,s=l===O;s&&(l=c,Xe(c)&&(Pa(c)||zo(c))?l=Pa(f)?f:Xe(f)?tn(f):[]:Uo(c)||Ro(c)?l=Ro(f)?Yo(f):Uo(f)?f:{}:s=!1),u.push(c),i.push(l),s?t[e]=r(l,c,o,u,i):(l===l?l!==f:f===f)&&(t[e]=l)}function zn(t){return function(n){return null==n?O:n[t]}}function Jn(t){var n=t+"";return t=pr(t),function(e){return Sn(e,t,n)}}function Hn(t,n){for(var e=t?n.length:0;e--;){var r=n[e];if(r!=o&&Ze(r)){var o=r;vi.call(t,r,1)}}return t}function Kn(t,n){return t+yi(Ri()*(n-t+1))}function Vn(t,n,e,r,o){return o(t,function(t,o,u){e=r?(r=!1,t):n(e,t,o,u)}),e}function Yn(t,n,e){var r=-1,o=t.length;n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),e=e===O||e>o?o:+e||0,0>e&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var u=Uu(o);++r<o;)u[r]=t[r+n];return u}function Gn(t,n){var e;return Di(t,function(t,r,o){return e=n(t,r,o),!e}),!!e}function Xn(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function Zn(t,n,e){var r=Ue(),o=-1;n=fn(n,function(t){return r(t)});var u=$n(t,function(t){var e=fn(n,function(n){return n(t)});return{criteria:e,index:++o,value:t}});return Xn(u,function(t,n){return s(t,n,e)})}function Qn(t,n){var e=0;return Di(t,function(t,r,o){e+=+n(t,r,o)||0}),e}function te(t,n){var e=-1,r=Le(),o=t.length,i=r==u,a=i&&o>=W,c=a?de():null,f=[];c?(r=Xt,i=!1):(a=!1,c=n?[]:f);t:for(;++e<o;){var l=t[e],s=n?n(l,e,t):l;if(i&&l===l){for(var p=c.length;p--;)if(c[p]===s)continue t;n&&c.push(s),f.push(l)}else r(c,s,0)<0&&((n||a)&&c.push(s),f.push(l))}return f}function ne(t,n){for(var e=-1,r=n.length,o=Uu(r);++e<r;)o[e]=t[n[e]];return o}function ee(t,n,e,r){for(var o=t.length,u=r?o:-1;(r?u--:++u<o)&&n(t[u],u,t););return e?Yn(t,r?0:u,r?u+1:o):Yn(t,r?u+1:0,r?o:u)}function re(t,n){var e=t;e instanceof X&&(e=e.value());for(var r=-1,o=n.length;++r<o;){var u=n[r];e=u.func.apply(u.thisArg,ln([e],u.args))}return e}function oe(t,n,e){var r=0,o=t?t.length:r;if("number"==typeof n&&n===n&&Ii>=o){for(;o>r;){var u=r+o>>>1,i=t[u];(e?n>=i:n>i)&&null!==i?r=u+1:o=u}return o}return ue(t,n,Cu,e)}function ue(t,n,e,r){n=e(n);for(var o=0,u=t?t.length:0,i=n!==n,a=null===n,c=n===O;u>o;){var f=yi((o+u)/2),l=e(t[f]),s=l!==O,p=l===l;if(i)var v=p||r;else v=a?p&&s&&(r||null!=l):c?p&&(r||s):null==l?!1:r?n>=l:n>l;v?o=f+1:u=f}return xi(u,Ai)}function ie(t,n,e){if("function"!=typeof t)return Cu;if(n===O)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,o){return t.call(n,e,r,o)};case 4:return function(e,r,o,u){return t.call(n,e,r,o,u)};case 5:return function(e,r,o,u,i){return t.call(n,e,r,o,u,i)}}return function(){return t.apply(n,arguments)}}function ae(t){var n=new ii(t.byteLength),e=new hi(n);return e.set(new hi(t)),n}function ce(t,n,e){for(var r=e.length,o=-1,u=ji(t.length-r,0),i=-1,a=n.length,c=Uu(a+u);++i<a;)c[i]=n[i];for(;++o<r;)c[e[o]]=t[o];for(;u--;)c[i++]=t[o++];return c}function fe(t,n,e){for(var r=-1,o=e.length,u=-1,i=ji(t.length-o,0),a=-1,c=n.length,f=Uu(i+c);++u<i;)f[u]=t[u];for(var l=u;++a<c;)f[l+a]=n[a];for(;++r<o;)f[l+e[r]]=t[u++];return f}function le(t,n){return function(e,r,o){var u=n?n():{};if(r=Ue(r,o,3),Pa(e))for(var i=-1,a=e.length;++i<a;){var c=e[i];t(u,c,r(c,i,e),e)}else Di(e,function(n,e,o){t(u,n,r(n,e,o),o)});return u}}function se(t){return yo(function(n,e){var r=-1,o=null==n?0:e.length,u=o>2?e[o-2]:O,i=o>2?e[2]:O,a=o>1?e[o-1]:O;for("function"==typeof u?(u=ie(u,a,5),o-=2):(u="function"==typeof a?a:O,o-=u?1:0),i&&Qe(e[0],e[1],i)&&(u=3>o?O:u,o=1);++r<o;){var c=e[r];c&&t(n,c,u)}return n})}function pe(t,n){return function(e,r){var o=e?qi(e):0;if(!er(o))return t(e,r);for(var u=n?o:-1,i=sr(e);(n?u--:++u<o)&&r(i[u],u,i)!==!1;);return e}}function ve(t){return function(n,e,r){for(var o=sr(n),u=r(n),i=u.length,a=t?i:-1;t?a--:++a<i;){var c=u[a];if(e(o[c],c,o)===!1)break}return n}}function he(t,n){function e(){var o=this&&this!==en&&this instanceof e?r:t;return o.apply(n,arguments)}var r=ge(t);return e}function de(t){return gi&&si?new Gt(t):null}function me(t){return function(n){for(var e=-1,r=Ou(su(n)),o=r.length,u="";++e<o;)u=t(u,r[e],e);return u}}function ge(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Si(t.prototype),r=t.apply(e,n);return So(r)?r:e}}function ye(t){function n(e,r,o){o&&Qe(e,r,o)&&(r=O);var u=Fe(e,t,O,O,O,O,O,r);return u.placeholder=n.placeholder,u}return n}function _e(t,n){return yo(function(e){var r=e[0];return null==r?r:(e.push(n),t.apply(O,e))})}function be(t,n){return function(e,r,o){if(o&&Qe(e,r,o)&&(r=O),r=Ue(r,o,3),1==r.length){e=Pa(e)?e:lr(e);var u=an(e,r,t,n);if(!e.length||u!==n)return u}return Rn(e,r,t,n)}}function we(t,n){return function(e,r,u){if(r=Ue(r,u,3),Pa(e)){var i=o(e,r,n);return i>-1?e[i]:O}return Pn(e,r,t)}}function je(t){return function(n,e,r){return n&&n.length?(e=Ue(e,r,3),o(n,e,t)):-1}}function xe(t){return function(n,e,r){return e=Ue(e,r,3),Pn(n,e,t,!0)}}function Ee(t){return function(){for(var n,e=arguments.length,r=t?e:-1,o=0,u=Uu(e);t?r--:++r<e;){var i=u[o++]=arguments[r];if("function"!=typeof i)throw new Gu(L);!n&&y.prototype.thru&&"wrapper"==qe(i)&&(n=new y([],!0))}for(r=n?-1:e;++r<e;){i=u[r];var a=qe(i),c="wrapper"==a?Ui(i):O;n=c&&nr(c[0])&&c[1]==(M|A|N|S)&&!c[4].length&&1==c[9]?n[qe(c[0])].apply(n,c[3]):1==i.length&&nr(i)?n[a]():n.thru(i)}return function(){var t=arguments,r=t[0];if(n&&1==t.length&&Pa(r)&&r.length>=W)return n.plant(r).value();for(var o=0,i=e?u[o].apply(this,t):r;++o<e;)i=u[o].call(this,i);return i}}}function Oe(t,n){return function(e,r,o){return"function"==typeof r&&o===O&&Pa(e)?t(e,r):n(e,ie(r,o,3))}}function Re(t){return function(n,e,r){return("function"!=typeof e||r!==O)&&(e=ie(e,r,3)),t(n,e,nu)}}function ke(t){return function(n,e,r){return("function"!=typeof e||r!==O)&&(e=ie(e,r,3)),t(n,e)}}function Ce(t){return function(n,e,r){var o={};return e=Ue(e,r,3),Nn(n,function(n,r,u){var i=e(n,r,u);r=t?i:r,n=t?n:i,o[r]=n}),o}}function Pe(t){return function(n,e,r){return n=a(n),(t?n:"")+Te(n,e,r)+(t?"":n)}}function Ae(t){var n=yo(function(e,r){var o=_(r,n.placeholder);return Fe(e,t,O,r,o)});return n}function Ie(t,n){return function(e,r,o,u){var i=arguments.length<3;return"function"==typeof r&&u===O&&Pa(e)?t(e,r,o,i):Vn(e,Ue(r,u,4),o,i,n)}}function Ne(t,n,e,r,o,u,i,a,c,f){function l(){for(var y=arguments.length,b=y,w=Uu(y);b--;)w[b]=arguments[b];if(r&&(w=ce(w,r,o)),u&&(w=fe(w,u,i)),h||m){var j=l.placeholder,x=_(w,j);if(y-=x.length,f>y){var E=a?tn(a):O,R=ji(f-y,0),P=h?x:O,A=h?O:x,I=h?w:O,M=h?O:w;n|=h?N:T,n&=~(h?T:N),d||(n&=~(k|C));var S=[t,n,e,I,P,M,A,E,c,R],D=Ne.apply(O,S);return nr(t)&&Li(D,S),D.placeholder=j,D}}var F=p?e:this,B=v?F[t]:t;return a&&(w=cr(w,a)),s&&c<w.length&&(w.length=c),this&&this!==en&&this instanceof l&&(B=g||ge(t)),B.apply(F,w)}var s=n&M,p=n&k,v=n&C,h=n&A,d=n&P,m=n&I,g=v?O:ge(t);return l}function Te(t,n,e){var r=t.length;if(n=+n,r>=n||!bi(n))return"";var o=n-r;return e=null==e?" ":e+"",gu(e,mi(o/e.length)).slice(0,o)}function Me(t,n,e,r){function o(){for(var n=-1,a=arguments.length,c=-1,f=r.length,l=Uu(f+a);++c<f;)l[c]=r[c];for(;a--;)l[c++]=arguments[++n];var s=this&&this!==en&&this instanceof o?i:t;return s.apply(u?e:this,l)}var u=n&k,i=ge(t);return o}function Se(t){var n=Ju[t];return function(t,e){return e=e===O?0:+e||0,e?(e=fi(10,e),n(t*e)/e):n(t)}}function De(t){return function(n,e,r,o){var u=Ue(r);return null==r&&u===wn?oe(n,e,t):ue(n,e,u(r,o,1),t)}}function Fe(t,n,e,r,o,u,i,a){var c=n&C;if(!c&&"function"!=typeof t)throw new Gu(L);var f=r?r.length:0;if(f||(n&=~(N|T),r=o=O),f-=o?o.length:0,n&T){var l=r,s=o;r=o=O}var p=c?O:Ui(t),v=[t,n,e,r,o,l,s,u,i,a];if(p&&(or(v,p),n=v[1],a=v[9]),v[9]=null==a?c?0:t.length:ji(a-f,0)||0,n==k)var h=he(v[0],v[2]);else h=n!=N&&n!=(k|N)||v[4].length?Ne.apply(O,v):Me.apply(O,v);var d=p?Wi:Li;return d(h,v)}function Be(t,n,e,r,o,u,i){var a=-1,c=t.length,f=n.length;if(c!=f&&!(o&&f>c))return!1;for(;++a<c;){var l=t[a],s=n[a],p=r?r(o?s:l,o?l:s,a):O;if(p!==O){if(p)continue;return!1}if(o){if(!vn(n,function(t){return l===t||e(l,t,r,o,u,i)}))return!1}else if(l!==s&&!e(l,s,r,o,u,i))return!1}return!0}function $e(t,n,e){switch(e){case K:case V:return+t==+n;case Y:return t.name==n.name&&t.message==n.message;case Z:return t!=+t?n!=+n:t==+n;case tt:case et:return t==n+""}return!1}function We(t,n,e,r,o,u,i){var a=Wa(t),c=a.length,f=Wa(n),l=f.length;if(c!=l&&!o)return!1;for(var s=c;s--;){var p=a[s];if(!(o?p in n:ni.call(n,p)))return!1}for(var v=o;++s<c;){p=a[s];var h=t[p],d=n[p],m=r?r(o?d:h,o?h:d,p):O;if(!(m===O?e(h,d,r,o,u,i):m))return!1;v||(v="constructor"==p)}if(!v){var g=t.constructor,y=n.constructor;if(g!=y&&"constructor"in t&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y))return!1}return!0}function Ue(t,e,r){var o=n.callback||Ru;return o=o===Ru?wn:o,r?o(t,e,r):o}function qe(t){for(var n=t.name,e=Mi[n],r=e?e.length:0;r--;){var o=e[r],u=o.func;if(null==u||u==t)return o.name}return n}function Le(t,e,r){var o=n.indexOf||Er;return o=o===Er?u:o,t?o(t,e,r):o}function ze(t){for(var n=eu(t),e=n.length;e--;)n[e][2]=rr(n[e][1]);return n}function Je(t,n){var e=null==t?O:t[n];return Bo(e)?e:O}function He(t,n,e){for(var r=-1,o=e.length;++r<o;){var u=e[r],i=u.size;switch(u.type){case"drop":t+=i;break;case"dropRight":n-=i;break;case"take":n=xi(n,t+i);break;case"takeRight":t=ji(t,n-i)}}return{start:t,end:n}}function Ke(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&ni.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function Ve(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Ku),new n}function Ye(t,n,e){var r=t.constructor;switch(n){case ot:return ae(t);case K:case V:return new r(+t);case ut:case it:case at:case ct:case ft:case lt:case st:case pt:case vt:var o=t.buffer;return new r(e?ae(o):o,t.byteOffset,t.length);case Z:case et:return new r(t);case tt:var u=new r(t.source,Nt.exec(t));u.lastIndex=t.lastIndex}return u}function Ge(t,n,e){null==t||tr(n,t)||(n=pr(n),t=1==n.length?t:Sn(t,Yn(n,0,-1)),n=Rr(n));var r=null==t?t:t[n];return null==r?O:r.apply(t,e)}function Xe(t){return null!=t&&er(qi(t))}function Ze(t,n){return t="number"==typeof t||St.test(t)?+t:-1,n=null==n?Ni:n,t>-1&&t%1==0&&n>t}function Qe(t,n,e){if(!So(e))return!1;var r=typeof n;if("number"==r?Xe(e)&&Ze(n,e.length):"string"==r&&n in e){var o=e[n];return t===t?t===o:o!==o}return!1}function tr(t,n){var e=typeof t;if("string"==e&&Ot.test(t)||"number"==e)return!0;if(Pa(t))return!1;var r=!Et.test(t);return r||null!=n&&t in sr(n)}function nr(t){var e=qe(t);if(!(e in X.prototype))return!1;var r=n[e];if(t===r)return!0;var o=Ui(r);return!!o&&t===o[0]}function er(t){return"number"==typeof t&&t>-1&&t%1==0&&Ni>=t}function rr(t){return t===t&&!So(t)}function or(t,n){var e=t[1],r=n[1],o=e|r,u=M>o,i=r==M&&e==A||r==M&&e==S&&t[7].length<=n[8]||r==(M|S)&&e==A;if(!u&&!i)return t;r&k&&(t[2]=n[2],o|=e&k?0:P);var a=n[3];if(a){var c=t[3];t[3]=c?ce(c,a,n[4]):tn(a),t[4]=c?_(t[3],z):tn(n[4])}return a=n[5],a&&(c=t[5],t[5]=c?fe(c,a,n[6]):tn(a),t[6]=c?_(t[5],z):tn(n[6])),a=n[7],a&&(t[7]=tn(a)),r&M&&(t[8]=null==t[8]?n[8]:xi(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=o,t}function ur(t,n){return t===O?n:Aa(t,n,ur)}function ir(t,n){t=sr(t);for(var e=-1,r=n.length,o={};++e<r;){var u=n[e];u in t&&(o[u]=t[u])}return o}function ar(t,n){var e={};return In(t,function(t,r,o){n(t,r,o)&&(e[r]=t)}),e}function cr(t,n){for(var e=t.length,r=xi(n.length,e),o=tn(t);r--;){var u=n[r];t[r]=Ze(u,e)?o[u]:O}return t}function fr(t){for(var n=nu(t),e=n.length,r=e&&t.length,o=!!r&&er(r)&&(Pa(t)||Ro(t)),u=-1,i=[];++u<e;){var a=n[u];(o&&Ze(a,r)||ni.call(t,a))&&i.push(a)}return i}function lr(t){return null==t?[]:Xe(t)?So(t)?t:Ku(t):iu(t)}function sr(t){return So(t)?t:Ku(t)}function pr(t){if(Pa(t))return t;var n=[];return a(t).replace(Rt,function(t,e,r,o){n.push(r?o.replace(At,"$1"):e||t)}),n}function vr(t){return t instanceof X?t.clone():new y(t.__wrapped__,t.__chain__,tn(t.__actions__))}function hr(t,n,e){n=(e?Qe(t,n,e):null==n)?1:ji(yi(n)||1,1);for(var r=0,o=t?t.length:0,u=-1,i=Uu(mi(o/n));o>r;)i[++u]=Yn(t,r,r+=n);return i}function dr(t){for(var n=-1,e=t?t.length:0,r=-1,o=[];++n<e;){var u=t[n];u&&(o[++r]=u)}return o}function mr(t,n,e){var r=t?t.length:0;return r?((e?Qe(t,n,e):null==n)&&(n=1),Yn(t,0>n?0:n)):[]}function gr(t,n,e){var r=t?t.length:0;return r?((e?Qe(t,n,e):null==n)&&(n=1),n=r-(+n||0),Yn(t,0,0>n?0:n)):[]}function yr(t,n,e){return t&&t.length?ee(t,Ue(n,e,3),!0,!0):[]}function _r(t,n,e){return t&&t.length?ee(t,Ue(n,e,3),!0):[]}function br(t,n,e,r){var o=t?t.length:0;return o?(e&&"number"!=typeof e&&Qe(t,n,e)&&(e=0,r=o),kn(t,n,e,r)):[]}function wr(t){return t?t[0]:O}function jr(t,n,e){var r=t?t.length:0;return e&&Qe(t,n,e)&&(n=!1),r?An(t,n):[]}function xr(t){var n=t?t.length:0;return n?An(t,!0):[]}function Er(t,n,e){var r=t?t.length:0;if(!r)return-1;if("number"==typeof e)e=0>e?ji(r+e,0):e;else if(e){var o=oe(t,n);return r>o&&(n===n?n===t[o]:t[o]!==t[o])?o:-1}return u(t,n,e||0)}function Or(t){return gr(t,1)}function Rr(t){var n=t?t.length:0;return n?t[n-1]:O}function kr(t,n,e){var r=t?t.length:0;if(!r)return-1;var o=r;if("number"==typeof e)o=(0>e?ji(r+e,0):xi(e||0,r-1))+1;else if(e){o=oe(t,n,!0)-1;var u=t[o];return(n===n?n===u:u!==u)?o:-1}if(n!==n)return m(t,o,!0);for(;o--;)if(t[o]===n)return o;return-1}function Cr(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var e=0,r=Le(),o=t.length;++e<o;)for(var u=0,i=t[e];(u=r(n,i,u))>-1;)vi.call(n,u,1);return n}function Pr(t,n,e){var r=[];if(!t||!t.length)return r;var o=-1,u=[],i=t.length;for(n=Ue(n,e,3);++o<i;){var a=t[o];n(a,o,t)&&(r.push(a),u.push(o))}return Hn(t,u),r}function Ar(t){return mr(t,1)}function Ir(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&Qe(t,n,e)&&(n=0,e=r),Yn(t,n,e)):[]}function Nr(t,n,e){var r=t?t.length:0;return r?((e?Qe(t,n,e):null==n)&&(n=1),Yn(t,0,0>n?0:n)):[]}function Tr(t,n,e){var r=t?t.length:0;return r?((e?Qe(t,n,e):null==n)&&(n=1),n=r-(+n||0),Yn(t,0>n?0:n)):[]}function Mr(t,n,e){return t&&t.length?ee(t,Ue(n,e,3),!1,!0):[]}function Sr(t,n,e){return t&&t.length?ee(t,Ue(n,e,3)):[]}function Dr(t,n,e,r){var o=t?t.length:0;if(!o)return[];null!=n&&"boolean"!=typeof n&&(r=e,e=Qe(t,n,r)?O:n,n=!1);var i=Ue();return(null!=e||i!==wn)&&(e=i(e,r,3)),n&&Le()==u?b(t,e):te(t,e)}function Fr(t){if(!t||!t.length)return[];var n=-1,e=0;t=cn(t,function(t){return Xe(t)?(e=ji(t.length,e),!0):void 0});for(var r=Uu(e);++n<e;)r[n]=fn(t,zn(n));return r}function Br(t,n,e){var r=t?t.length:0;if(!r)return[];var o=Fr(t);return null==n?o:(n=ie(n,e,4),fn(o,function(t){return sn(t,n,O,!0)}))}function $r(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(Xe(e))var r=r?ln(En(r,e),En(e,r)):e}return r?te(r):[]}function Wr(t,n){var e=-1,r=t?t.length:0,o={};for(!r||n||Pa(t[0])||(n=[]);++e<r;){var u=t[e];n?o[u]=n[e]:u&&(o[u[0]]=u[1])}return o}function Ur(t){var e=n(t);return e.__chain__=!0,e}function qr(t,n,e){return n.call(e,t),t}function Lr(t,n,e){return n.call(e,t)}function zr(){return Ur(this)}function Jr(){return new y(this.value(),this.__chain__)}function Hr(t){for(var n,r=this;r instanceof e;){var o=vr(r);n?u.__wrapped__=o:n=o;var u=o;r=r.__wrapped__}return u.__wrapped__=t,n}function Kr(){var t=this.__wrapped__,n=function(t){return e&&e.__dir__<0?t:t.reverse()};if(t instanceof X){var e=t;return this.__actions__.length&&(e=new X(this)),e=e.reverse(),e.__actions__.push({func:Lr,args:[n],thisArg:O}),new y(e,this.__chain__)}return this.thru(n)}function Vr(){return this.value()+""}function Yr(){return re(this.__wrapped__,this.__actions__)}function Gr(t,n,e){var r=Pa(t)?un:On;return e&&Qe(t,n,e)&&(n=O),("function"!=typeof n||e!==O)&&(n=Ue(n,e,3)),r(t,n)}function Xr(t,n,e){var r=Pa(t)?cn:Cn;return n=Ue(n,e,3),r(t,n)}function Zr(t,n){return oa(t,Wn(n))}function Qr(t,n,e,r){var o=t?qi(t):0;return er(o)||(t=iu(t),o=t.length),e="number"!=typeof e||r&&Qe(n,e,r)?0:0>e?ji(o+e,0):e||0,"string"==typeof t||!Pa(t)&&Lo(t)?o>=e&&t.indexOf(n,e)>-1:!!o&&Le(t,n,e)>-1}function to(t,n,e){var r=Pa(t)?fn:$n;return n=Ue(n,e,3),r(t,n)}function no(t,n){return to(t,Mu(n))}function eo(t,n,e){var r=Pa(t)?cn:Cn;return n=Ue(n,e,3),r(t,function(t,e,r){return!n(t,e,r)})}function ro(t,n,e){if(e?Qe(t,n,e):null==n){t=lr(t);var r=t.length;return r>0?t[Kn(0,r-1)]:O}var o=-1,u=Vo(t),r=u.length,i=r-1;for(n=xi(0>n?0:+n||0,r);++o<n;){var a=Kn(o,i),c=u[a];u[a]=u[o],u[o]=c}return u.length=n,u}function oo(t){return ro(t,Ci)}function uo(t){var n=t?qi(t):0;return er(n)?n:Wa(t).length}function io(t,n,e){var r=Pa(t)?vn:Gn;return e&&Qe(t,n,e)&&(n=O),("function"!=typeof n||e!==O)&&(n=Ue(n,e,3)),r(t,n)}function ao(t,n,e){if(null==t)return[];e&&Qe(t,n,e)&&(n=O);var r=-1;n=Ue(n,e,3);var o=$n(t,function(t,e,o){return{criteria:n(t,e,o),index:++r,value:t}});return Xn(o,l)}function co(t,n,e,r){return null==t?[]:(r&&Qe(n,e,r)&&(e=O),Pa(n)||(n=null==n?[]:[n]),Pa(e)||(e=null==e?[]:[e]),Zn(t,n,e))}function fo(t,n){return Xr(t,Wn(n))}function lo(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Gu(L);var e=t;t=n,n=e}return t=bi(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function so(t,n,e){return e&&Qe(t,n,e)&&(n=O),n=t&&null==n?t.length:ji(+n||0,0),Fe(t,M,O,O,O,O,n)}function po(t,n){var e;if("function"!=typeof n){if("function"!=typeof t)throw new Gu(L);var r=t;t=n,n=r}return function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=O),e}}function vo(t,n,e){function r(){v&&ai(v),f&&ai(f),d=0,f=v=h=O}function o(n,e){e&&ai(e),f=v=h=O,n&&(d=da(),l=t.apply(p,c),v||f||(c=p=O))}function u(){var t=n-(da()-s);0>=t||t>n?o(h,f):v=pi(u,t)}function i(){o(g,v)}function a(){if(c=arguments,s=da(),p=this,h=g&&(v||!y),m===!1)var e=y&&!v;else{f||y||(d=s);var r=m-(s-d),o=0>=r||r>m;o?(f&&(f=ai(f)),d=s,l=t.apply(p,c)):f||(f=pi(i,r))}return o&&v?v=ai(v):v||n===m||(v=pi(u,n)),e&&(o=!0,l=t.apply(p,c)),!o||v||f||(c=p=O),l}var c,f,l,s,p,v,h,d=0,m=!1,g=!0;if("function"!=typeof t)throw new Gu(L);if(n=0>n?0:+n||0,e===!0){var y=!0;g=!1}else So(e)&&(y=!!e.leading,m="maxWait"in e&&ji(+e.maxWait||0,n),g="trailing"in e?!!e.trailing:g);return a.cancel=r,a}function ho(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Gu(L);var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],u=e.cache;if(u.has(o))return u.get(o);var i=t.apply(this,r);return e.cache=u.set(o,i),i};return e.cache=new ho.Cache,e}function mo(t){if("function"!=typeof t)throw new Gu(L);return function(){return!t.apply(this,arguments)}}function go(t){return po(2,t)}function yo(t,n){if("function"!=typeof t)throw new Gu(L);return n=ji(n===O?t.length-1:+n||0,0),function(){for(var e=arguments,r=-1,o=ji(e.length-n,0),u=Uu(o);++r<o;)u[r]=e[n+r];switch(n){case 0:return t.call(this,u);case 1:return t.call(this,e[0],u);case 2:return t.call(this,e[0],e[1],u)}var i=Uu(n+1);for(r=-1;++r<n;)i[r]=e[r];return i[n]=u,t.apply(this,i)}}function _o(t){if("function"!=typeof t)throw new Gu(L);return function(n){return t.apply(this,n)}}function bo(t,n,e){var r=!0,o=!0;if("function"!=typeof t)throw new Gu(L);return e===!1?r=!1:So(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),vo(t,n,{leading:r,maxWait:+n,trailing:o})}function wo(t,n){return n=null==n?Cu:n,Fe(n,N,O,[t],[])}function jo(t,n,e,r){return n&&"boolean"!=typeof n&&Qe(t,n,e)?n=!1:"function"==typeof n&&(r=e,e=n,n=!1),"function"==typeof e?jn(t,n,ie(e,r,1)):jn(t,n)}function xo(t,n,e){return"function"==typeof n?jn(t,!0,ie(n,e,1)):jn(t,!0)}function Eo(t,n){return t>n}function Oo(t,n){return t>=n}function Ro(t){return g(t)&&Xe(t)&&ni.call(t,"callee")&&!li.call(t,"callee")}function ko(t){return t===!0||t===!1||g(t)&&ri.call(t)==K}function Co(t){return g(t)&&ri.call(t)==V}function Po(t){return!!t&&1===t.nodeType&&g(t)&&!Uo(t)}function Ao(t){return null==t?!0:Xe(t)&&(Pa(t)||Lo(t)||Ro(t)||g(t)&&Mo(t.splice))?!t.length:!Wa(t).length}function Io(t,n,e,r){e="function"==typeof e?ie(e,r,3):O;var o=e?e(t,n):O;return o===O?Dn(t,n,e):!!o}function No(t){return g(t)&&"string"==typeof t.message&&ri.call(t)==Y}function To(t){return"number"==typeof t&&bi(t)}function Mo(t){return So(t)&&ri.call(t)==G}function So(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Do(t,n,e,r){return e="function"==typeof e?ie(e,r,3):O,Bn(t,ze(n),e)}function Fo(t){return Wo(t)&&t!=+t}function Bo(t){return null==t?!1:Mo(t)?ui.test(ti.call(t)):g(t)&&Mt.test(t)}function $o(t){return null===t}function Wo(t){return"number"==typeof t||g(t)&&ri.call(t)==Z}function Uo(t){var n;if(!g(t)||ri.call(t)!=Q||Ro(t)||!ni.call(t,"constructor")&&(n=t.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var e;return In(t,function(t,n){e=n}),e===O||ni.call(t,e)}function qo(t){return So(t)&&ri.call(t)==tt}function Lo(t){return"string"==typeof t||g(t)&&ri.call(t)==et}function zo(t){return g(t)&&er(t.length)&&!!qt[ri.call(t)]}function Jo(t){return t===O}function Ho(t,n){return n>t}function Ko(t,n){return n>=t}function Vo(t){var n=t?qi(t):0;return er(n)?n?tn(t):[]:iu(t)}function Yo(t){return bn(t,nu(t))}function Go(t,n,e){var r=Si(t);return e&&Qe(t,n,e)&&(n=O),n?yn(r,n):r}function Xo(t){return Mn(t,nu(t))}function Zo(t,n,e){var r=null==t?O:Sn(t,pr(n),n+"");return r===O?e:r}function Qo(t,n){if(null==t)return!1;var e=ni.call(t,n);if(!e&&!tr(n)){if(n=pr(n),t=1==n.length?t:Sn(t,Yn(n,0,-1)),null==t)return!1;n=Rr(n),e=ni.call(t,n)}return e||er(t.length)&&Ze(n,t.length)&&(Pa(t)||Ro(t))}function tu(t,n,e){e&&Qe(t,n,e)&&(n=O);for(var r=-1,o=Wa(t),u=o.length,i={};++r<u;){var a=o[r],c=t[a];n?ni.call(i,c)?i[c].push(a):i[c]=[a]:i[c]=a}return i}function nu(t){if(null==t)return[];So(t)||(t=Ku(t));var n=t.length;n=n&&er(n)&&(Pa(t)||Ro(t))&&n||0;for(var e=t.constructor,r=-1,o="function"==typeof e&&e.prototype===t,u=Uu(n),i=n>0;++r<n;)u[r]=r+"";for(var a in t)i&&Ze(a,n)||"constructor"==a&&(o||!ni.call(t,a))||u.push(a);return u}function eu(t){t=sr(t);for(var n=-1,e=Wa(t),r=e.length,o=Uu(r);++n<r;){var u=e[n];o[n]=[u,t[u]]}return o}function ru(t,n,e){var r=null==t?O:t[n];return r===O&&(null==t||tr(n,t)||(n=pr(n),t=1==n.length?t:Sn(t,Yn(n,0,-1)),r=null==t?O:t[Rr(n)]),r=r===O?e:r),Mo(r)?r.call(t):r}function ou(t,n,e){if(null==t)return t;var r=n+"";n=null!=t[r]||tr(n,t)?[r]:pr(n);for(var o=-1,u=n.length,i=u-1,a=t;null!=a&&++o<u;){var c=n[o];So(a)&&(o==i?a[c]=e:null==a[c]&&(a[c]=Ze(n[o+1])?[]:{})),a=a[c]}return t}function uu(t,n,e,r){var o=Pa(t)||zo(t);if(n=Ue(n,r,4),null==e)if(o||So(t)){var u=t.constructor;e=o?Pa(t)?new u:[]:Si(Mo(u)?u.prototype:O)}else e={};return(o?nn:Nn)(t,function(t,r,o){return n(e,t,r,o)}),e}function iu(t){return ne(t,Wa(t))}function au(t){return ne(t,nu(t))}function cu(t,n,e){return n=+n||0,
e===O?(e=n,n=0):e=+e||0,t>=xi(n,e)&&t<ji(n,e)}function fu(t,n,e){e&&Qe(t,n,e)&&(n=e=O);var r=null==t,o=null==n;if(null==e&&(o&&"boolean"==typeof t?(e=t,t=1):"boolean"==typeof n&&(e=n,o=!0)),r&&o&&(n=1,o=!1),t=+t||0,o?(n=t,t=0):n=+n||0,e||t%1||n%1){var u=Ri();return xi(t+u*(n-t+ci("1e-"+((u+"").length-1))),n)}return Kn(t,n)}function lu(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function su(t){return t=a(t),t&&t.replace(Dt,p).replace(Pt,"")}function pu(t,n,e){t=a(t),n+="";var r=t.length;return e=e===O?r:xi(0>e?0:+e||0,r),e-=n.length,e>=0&&t.indexOf(n,e)==e}function vu(t){return t=a(t),t&&bt.test(t)?t.replace(yt,v):t}function hu(t){return t=a(t),t&&Ct.test(t)?t.replace(kt,h):t||"(?:)"}function du(t,n,e){t=a(t),n=+n;var r=t.length;if(r>=n||!bi(n))return t;var o=(n-r)/2,u=yi(o),i=mi(o);return e=Te("",i,e),e.slice(0,u)+t+e}function mu(t,n,e){return(e?Qe(t,n,e):null==n)?n=0:n&&(n=+n),t=bu(t),Oi(t,n||(Tt.test(t)?16:10))}function gu(t,n){var e="";if(t=a(t),n=+n,1>n||!t||!bi(n))return e;do n%2&&(e+=t),n=yi(n/2),t+=t;while(n);return e}function yu(t,n,e){return t=a(t),e=null==e?0:xi(0>e?0:+e||0,t.length),t.lastIndexOf(n,e)==e}function _u(t,e,r){var o=n.templateSettings;r&&Qe(t,e,r)&&(e=r=O),t=a(t),e=gn(yn({},r||e),o,mn);var u,i,c=gn(yn({},e.imports),o.imports,mn),f=Wa(c),l=ne(c,f),s=0,p=e.interpolate||Ft,v="__p += '",h=Vu((e.escape||Ft).source+"|"+p.source+"|"+(p===xt?It:Ft).source+"|"+(e.evaluate||Ft).source+"|$","g"),m="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ut+"]")+"\n";t.replace(h,function(n,e,r,o,a,c){return r||(r=o),v+=t.slice(s,c).replace(Bt,d),e&&(u=!0,v+="' +\n__e("+e+") +\n'"),a&&(i=!0,v+="';\n"+a+";\n__p += '"),r&&(v+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=c+n.length,n}),v+="';\n";var g=e.variable;g||(v="with (obj) {\n"+v+"\n}\n"),v=(i?v.replace(ht,""):v).replace(dt,"$1").replace(mt,"$1;"),v="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var y=Xa(function(){return zu(f,m+"return "+v).apply(O,l)});if(y.source=v,No(y))throw y;return y}function bu(t,n,e){var r=t;return(t=a(t))?(e?Qe(r,n,e):null==n)?t.slice(w(t),j(t)+1):(n+="",t.slice(c(t,n),f(t,n)+1)):t}function wu(t,n,e){var r=t;return t=a(t),t?t.slice((e?Qe(r,n,e):null==n)?w(t):c(t,n+"")):t}function ju(t,n,e){var r=t;return t=a(t),t?(e?Qe(r,n,e):null==n)?t.slice(0,j(t)+1):t.slice(0,f(t,n+"")+1):t}function xu(t,n,e){e&&Qe(t,n,e)&&(n=O);var r=D,o=F;if(null!=n)if(So(n)){var u="separator"in n?n.separator:u;r="length"in n?+n.length||0:r,o="omission"in n?a(n.omission):o}else r=+n||0;if(t=a(t),r>=t.length)return t;var i=r-o.length;if(1>i)return o;var c=t.slice(0,i);if(null==u)return c+o;if(qo(u)){if(t.slice(i).search(u)){var f,l,s=t.slice(0,i);for(u.global||(u=Vu(u.source,(Nt.exec(u)||"")+"g")),u.lastIndex=0;f=u.exec(s);)l=f.index;c=c.slice(0,null==l?i:l)}}else if(t.indexOf(u,i)!=i){var p=c.lastIndexOf(u);p>-1&&(c=c.slice(0,p))}return c+o}function Eu(t){return t=a(t),t&&_t.test(t)?t.replace(gt,x):t}function Ou(t,n,e){return e&&Qe(t,n,e)&&(n=O),t=a(t),t.match(n||$t)||[]}function Ru(t,n,e){return e&&Qe(t,n,e)&&(n=O),g(t)?Pu(t):wn(t,n)}function ku(t){return function(){return t}}function Cu(t){return t}function Pu(t){return Wn(jn(t,!0))}function Au(t,n){return Un(t,jn(n,!0))}function Iu(t,n,e){if(null==e){var r=So(n),o=r?Wa(n):O,u=o&&o.length?Mn(n,o):O;(u?u.length:r)||(u=!1,e=n,n=t,t=this)}u||(u=Mn(n,Wa(n)));var i=!0,a=-1,c=Mo(t),f=u.length;e===!1?i=!1:So(e)&&"chain"in e&&(i=e.chain);for(;++a<f;){var l=u[a],s=n[l];t[l]=s,c&&(t.prototype[l]=function(n){return function(){var e=this.__chain__;if(i||e){var r=t(this.__wrapped__),o=r.__actions__=tn(this.__actions__);return o.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,ln([this.value()],arguments))}}(s))}return t}function Nu(){return en._=oi,this}function Tu(){}function Mu(t){return tr(t)?zn(t):Jn(t)}function Su(t){return function(n){return Sn(t,pr(n),n+"")}}function Du(t,n,e){e&&Qe(t,n,e)&&(n=e=O),t=+t||0,e=null==e?1:+e||0,null==n?(n=t,t=0):n=+n||0;for(var r=-1,o=ji(mi((n-t)/(e||1)),0),u=Uu(o);++r<o;)u[r]=t,t+=e;return u}function Fu(t,n,e){if(t=yi(t),1>t||!bi(t))return[];var r=-1,o=Uu(xi(t,Pi));for(n=ie(n,e,1);++r<t;)Pi>r?o[r]=n(r):n(r);return o}function Bu(t){var n=++ei;return a(t)+n}function $u(t,n){return(+t||0)+(+n||0)}function Wu(t,n,e){return e&&Qe(t,n,e)&&(n=O),n=Ue(n,e,3),1==n.length?hn(Pa(t)?t:lr(t),n):Qn(t,n)}t=t?rn.defaults(en.Object(),t,rn.pick(en,Wt)):en;{var Uu=t.Array,qu=t.Date,Lu=t.Error,zu=t.Function,Ju=t.Math,Hu=t.Number,Ku=t.Object,Vu=t.RegExp,Yu=t.String,Gu=t.TypeError,Xu=Uu.prototype,Zu=Ku.prototype,Qu=Yu.prototype,ti=zu.prototype.toString,ni=Zu.hasOwnProperty,ei=0,ri=Zu.toString,oi=en._,ui=Vu("^"+ti.call(ni).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ii=t.ArrayBuffer,ai=t.clearTimeout,ci=t.parseFloat,fi=Ju.pow,li=Zu.propertyIsEnumerable,si=Je(t,"Set"),pi=t.setTimeout,vi=Xu.splice,hi=t.Uint8Array,di=Je(t,"WeakMap"),mi=Ju.ceil,gi=Je(Ku,"create"),yi=Ju.floor,_i=Je(Uu,"isArray"),bi=t.isFinite,wi=Je(Ku,"keys"),ji=Ju.max,xi=Ju.min,Ei=Je(qu,"now"),Oi=t.parseInt,Ri=Ju.random,ki=Hu.NEGATIVE_INFINITY,Ci=Hu.POSITIVE_INFINITY,Pi=4294967295,Ai=Pi-1,Ii=Pi>>>1,Ni=9007199254740991,Ti=di&&new di,Mi={};n.support={}}n.templateSettings={escape:wt,evaluate:jt,interpolate:xt,variable:"",imports:{_:n}};var Si=function(){function t(){}return function(n){if(So(n)){t.prototype=n;var e=new t;t.prototype=O}return e||{}}}(),Di=pe(Nn),Fi=pe(Tn,!0),Bi=ve(),$i=ve(!0),Wi=Ti?function(t,n){return Ti.set(t,n),t}:Cu,Ui=Ti?function(t){return Ti.get(t)}:Tu,qi=zn("length"),Li=function(){var t=0,n=0;return function(e,r){var o=da(),u=$-(o-n);if(n=o,u>0){if(++t>=B)return e}else t=0;return Wi(e,r)}}(),zi=yo(function(t,n){return g(t)&&Xe(t)?En(t,An(n,!1,!0)):[]}),Ji=je(),Hi=je(!0),Ki=yo(function(t){for(var n=t.length,e=n,r=Uu(s),o=Le(),i=o==u,a=[];e--;){var c=t[e]=Xe(c=t[e])?c:[];r[e]=i&&c.length>=120?de(e&&c):null}var f=t[0],l=-1,s=f?f.length:0,p=r[0];t:for(;++l<s;)if(c=f[l],(p?Xt(p,c):o(a,c,0))<0){for(var e=n;--e;){var v=r[e];if((v?Xt(v,c):o(t[e],c,0))<0)continue t}p&&p.push(c),a.push(c)}return a}),Vi=yo(function(t,n){n=An(n);var e=_n(t,n);return Hn(t,n.sort(r)),e}),Yi=De(),Gi=De(!0),Xi=yo(function(t){return te(An(t,!1,!0))}),Zi=yo(function(t,n){return Xe(t)?En(t,n):[]}),Qi=yo(Fr),ta=yo(function(t){var n=t.length,e=n>2?t[n-2]:O,r=n>1?t[n-1]:O;return n>2&&"function"==typeof e?n-=2:(e=n>1&&"function"==typeof r?(--n,r):O,r=O),t.length=n,Br(t,e,r)}),na=yo(function(t){return t=An(t),this.thru(function(n){return Qt(Pa(n)?n:[sr(n)],t)})}),ea=yo(function(t,n){return _n(t,An(n))}),ra=le(function(t,n,e){ni.call(t,e)?++t[e]:t[e]=1}),oa=we(Di),ua=we(Fi,!0),ia=Oe(nn,Di),aa=Oe(on,Fi),ca=le(function(t,n,e){ni.call(t,e)?t[e].push(n):t[e]=[n]}),fa=le(function(t,n,e){t[e]=n}),la=yo(function(t,n,e){var r=-1,o="function"==typeof n,u=tr(n),i=Xe(t)?Uu(t.length):[];return Di(t,function(t){var a=o?n:u&&null!=t?t[n]:O;i[++r]=a?a.apply(t,e):Ge(t,n,e)}),i}),sa=le(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),pa=Ie(sn,Di),va=Ie(pn,Fi),ha=yo(function(t,n){if(null==t)return[];var e=n[2];return e&&Qe(n[0],n[1],e)&&(n.length=1),Zn(t,An(n),[])}),da=Ei||function(){return(new qu).getTime()},ma=yo(function(t,n,e){var r=k;if(e.length){var o=_(e,ma.placeholder);r|=N}return Fe(t,r,n,e,o)}),ga=yo(function(t,n){n=n.length?An(n):Xo(t);for(var e=-1,r=n.length;++e<r;){var o=n[e];t[o]=Fe(t[o],k,t)}return t}),ya=yo(function(t,n,e){var r=k|C;if(e.length){var o=_(e,ya.placeholder);r|=N}return Fe(n,r,t,e,o)}),_a=ye(A),ba=ye(I),wa=yo(function(t,n){return xn(t,1,n)}),ja=yo(function(t,n,e){return xn(t,n,e)}),xa=Ee(),Ea=Ee(!0),Oa=yo(function(t,n){if(n=An(n),"function"!=typeof t||!un(n,i))throw new Gu(L);var e=n.length;return yo(function(r){for(var o=xi(r.length,e);o--;)r[o]=n[o](r[o]);return t.apply(this,r)})}),Ra=Ae(N),ka=Ae(T),Ca=yo(function(t,n){return Fe(t,S,O,O,O,An(n))}),Pa=_i||function(t){return g(t)&&er(t.length)&&ri.call(t)==H},Aa=se(qn),Ia=se(function(t,n,e){return e?gn(t,n,e):yn(t,n)}),Na=_e(Ia,dn),Ta=_e(Aa,ur),Ma=xe(Nn),Sa=xe(Tn),Da=Re(Bi),Fa=Re($i),Ba=ke(Nn),$a=ke(Tn),Wa=wi?function(t){var n=null==t?O:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&Xe(t)?fr(t):So(t)?wi(t):[]}:fr,Ua=Ce(!0),qa=Ce(),La=yo(function(t,n){if(null==t)return{};if("function"!=typeof n[0]){var n=fn(An(n),Yu);return ir(t,En(nu(t),n))}var e=ie(n[0],n[1],3);return ar(t,function(t,n,r){return!e(t,n,r)})}),za=yo(function(t,n){return null==t?{}:"function"==typeof n[0]?ar(t,ie(n[0],n[1],3)):ir(t,An(n))}),Ja=me(function(t,n,e){return n=n.toLowerCase(),t+(e?n.charAt(0).toUpperCase()+n.slice(1):n)}),Ha=me(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),Ka=Pe(),Va=Pe(!0),Ya=me(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),Ga=me(function(t,n,e){return t+(e?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))}),Xa=yo(function(t,n){try{return t.apply(O,n)}catch(e){return No(e)?e:new Lu(e)}}),Za=yo(function(t,n){return function(e){return Ge(e,t,n)}}),Qa=yo(function(t,n){return function(e){return Ge(t,e,n)}}),tc=Se("ceil"),nc=Se("floor"),ec=be(Eo,ki),rc=be(Ho,Ci),oc=Se("round");return n.prototype=e.prototype,y.prototype=Si(e.prototype),y.prototype.constructor=y,X.prototype=Si(e.prototype),X.prototype.constructor=X,Jt.prototype["delete"]=Ht,Jt.prototype.get=Kt,Jt.prototype.has=Vt,Jt.prototype.set=Yt,Gt.prototype.push=Zt,ho.Cache=Jt,n.after=lo,n.ary=so,n.assign=Ia,n.at=ea,n.before=po,n.bind=ma,n.bindAll=ga,n.bindKey=ya,n.callback=Ru,n.chain=Ur,n.chunk=hr,n.compact=dr,n.constant=ku,n.countBy=ra,n.create=Go,n.curry=_a,n.curryRight=ba,n.debounce=vo,n.defaults=Na,n.defaultsDeep=Ta,n.defer=wa,n.delay=ja,n.difference=zi,n.drop=mr,n.dropRight=gr,n.dropRightWhile=yr,n.dropWhile=_r,n.fill=br,n.filter=Xr,n.flatten=jr,n.flattenDeep=xr,n.flow=xa,n.flowRight=Ea,n.forEach=ia,n.forEachRight=aa,n.forIn=Da,n.forInRight=Fa,n.forOwn=Ba,n.forOwnRight=$a,n.functions=Xo,n.groupBy=ca,n.indexBy=fa,n.initial=Or,n.intersection=Ki,n.invert=tu,n.invoke=la,n.keys=Wa,n.keysIn=nu,n.map=to,n.mapKeys=Ua,n.mapValues=qa,n.matches=Pu,n.matchesProperty=Au,n.memoize=ho,n.merge=Aa,n.method=Za,n.methodOf=Qa,n.mixin=Iu,n.modArgs=Oa,n.negate=mo,n.omit=La,n.once=go,n.pairs=eu,n.partial=Ra,n.partialRight=ka,n.partition=sa,n.pick=za,n.pluck=no,n.property=Mu,n.propertyOf=Su,n.pull=Cr,n.pullAt=Vi,n.range=Du,n.rearg=Ca,n.reject=eo,n.remove=Pr,n.rest=Ar,n.restParam=yo,n.set=ou,n.shuffle=oo,n.slice=Ir,n.sortBy=ao,n.sortByAll=ha,n.sortByOrder=co,n.spread=_o,n.take=Nr,n.takeRight=Tr,n.takeRightWhile=Mr,n.takeWhile=Sr,n.tap=qr,n.throttle=bo,n.thru=Lr,n.times=Fu,n.toArray=Vo,n.toPlainObject=Yo,n.transform=uu,n.union=Xi,n.uniq=Dr,n.unzip=Fr,n.unzipWith=Br,n.values=iu,n.valuesIn=au,n.where=fo,n.without=Zi,n.wrap=wo,n.xor=$r,n.zip=Qi,n.zipObject=Wr,n.zipWith=ta,n.backflow=Ea,n.collect=to,n.compose=Ea,n.each=ia,n.eachRight=aa,n.extend=Ia,n.iteratee=Ru,n.methods=Xo,n.object=Wr,n.select=Xr,n.tail=Ar,n.unique=Dr,Iu(n,n),n.add=$u,n.attempt=Xa,n.camelCase=Ja,n.capitalize=lu,n.ceil=tc,n.clone=jo,n.cloneDeep=xo,n.deburr=su,n.endsWith=pu,n.escape=vu,n.escapeRegExp=hu,n.every=Gr,n.find=oa,n.findIndex=Ji,n.findKey=Ma,n.findLast=ua,n.findLastIndex=Hi,n.findLastKey=Sa,n.findWhere=Zr,n.first=wr,n.floor=nc,n.get=Zo,n.gt=Eo,n.gte=Oo,n.has=Qo,n.identity=Cu,n.includes=Qr,n.indexOf=Er,n.inRange=cu,n.isArguments=Ro,n.isArray=Pa,n.isBoolean=ko,n.isDate=Co,n.isElement=Po,n.isEmpty=Ao,n.isEqual=Io,n.isError=No,n.isFinite=To,n.isFunction=Mo,n.isMatch=Do,n.isNaN=Fo,n.isNative=Bo,n.isNull=$o,n.isNumber=Wo,n.isObject=So,n.isPlainObject=Uo,n.isRegExp=qo,n.isString=Lo,n.isTypedArray=zo,n.isUndefined=Jo,n.kebabCase=Ha,n.last=Rr,n.lastIndexOf=kr,n.lt=Ho,n.lte=Ko,n.max=ec,n.min=rc,n.noConflict=Nu,n.noop=Tu,n.now=da,n.pad=du,n.padLeft=Ka,n.padRight=Va,n.parseInt=mu,n.random=fu,n.reduce=pa,n.reduceRight=va,n.repeat=gu,n.result=ru,n.round=oc,n.runInContext=E,n.size=uo,n.snakeCase=Ya,n.some=io,n.sortedIndex=Yi,n.sortedLastIndex=Gi,n.startCase=Ga,n.startsWith=yu,n.sum=Wu,n.template=_u,n.trim=bu,n.trimLeft=wu,n.trimRight=ju,n.trunc=xu,n.unescape=Eu,n.uniqueId=Bu,n.words=Ou,n.all=Gr,n.any=io,n.contains=Qr,n.eq=Io,n.detect=oa,n.foldl=pa,n.foldr=va,n.head=wr,n.include=Qr,n.inject=pa,Iu(n,function(){var t={};return Nn(n,function(e,r){n.prototype[r]||(t[r]=e)}),t}(),!1),n.sample=ro,n.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return ro(n,t)}):ro(this.value())},n.VERSION=R,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),nn(["drop","take"],function(t,n){X.prototype[t]=function(e){var r=this.__filtered__;if(r&&!n)return new X(this);e=null==e?1:ji(yi(e)||0,0);var o=this.clone();return r?o.__takeCount__=xi(o.__takeCount__,e):o.__views__.push({size:e,type:t+(o.__dir__<0?"Right":"")}),o},X.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),nn(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e!=q;X.prototype[t]=function(t,n){var o=this.clone();return o.__iteratees__.push({iteratee:Ue(t,n,1),type:e}),o.__filtered__=o.__filtered__||r,o}}),nn(["first","last"],function(t,n){var e="take"+(n?"Right":"");X.prototype[t]=function(){return this[e](1).value()[0]}}),nn(["initial","rest"],function(t,n){var e="drop"+(n?"":"Right");X.prototype[t]=function(){return this.__filtered__?new X(this):this[e](1)}}),nn(["pluck","where"],function(t,n){var e=n?"filter":"map",r=n?Wn:Mu;X.prototype[t]=function(t){return this[e](r(t))}}),X.prototype.compact=function(){return this.filter(Cu)},X.prototype.reject=function(t,n){return t=Ue(t,n,1),this.filter(function(n){return!t(n)})},X.prototype.slice=function(t,n){t=null==t?0:+t||0;var e=this;return e.__filtered__&&(t>0||0>n)?new X(e):(0>t?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==O&&(n=+n||0,e=0>n?e.dropRight(-n):e.take(n-t)),e)},X.prototype.takeRightWhile=function(t,n){return this.reverse().takeWhile(t,n).reverse()},X.prototype.toArray=function(){return this.take(Ci)},Nn(X.prototype,function(t,e){var r=/^(?:filter|map|reject)|While$/.test(e),o=/^(?:first|last)$/.test(e),u=n[o?"take"+("last"==e?"Right":""):e];u&&(n.prototype[e]=function(){var n=o?[1]:arguments,e=this.__chain__,i=this.__wrapped__,a=!!this.__actions__.length,c=i instanceof X,f=n[0],l=c||Pa(i);l&&r&&"function"==typeof f&&1!=f.length&&(c=l=!1);var s=function(t){return o&&e?u(t,1)[0]:u.apply(O,ln([t],n))},p={func:Lr,args:[s],thisArg:O},v=c&&!a;if(o&&!e)return v?(i=i.clone(),i.__actions__.push(p),t.call(i)):u.call(O,this.value())[0];if(!o&&l){i=v?i:new X(this);var h=t.apply(i,n);return h.__actions__.push(p),new y(h,e)}return this.thru(s)})}),nn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Qu:Xu)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return o&&!this.__chain__?e.apply(this.value(),t):this[r](function(n){return e.apply(n,t)})}}),Nn(X.prototype,function(t,e){var r=n[e];if(r){var o=r.name,u=Mi[o]||(Mi[o]=[]);u.push({name:e,func:r})}}),Mi[Ne(O,C).name]=[{name:"wrapper",func:O}],X.prototype.clone=nt,X.prototype.reverse=rt,X.prototype.value=zt,n.prototype.chain=zr,n.prototype.commit=Jr,n.prototype.concat=na,n.prototype.plant=Hr,n.prototype.reverse=Kr,n.prototype.toString=Vr,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Yr,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var O,R="3.10.1",k=1,C=2,P=4,A=8,I=16,N=32,T=64,M=128,S=256,D=30,F="...",B=150,$=16,W=200,U=1,q=2,L="Expected a function",z="__lodash_placeholder__",J="[object Arguments]",H="[object Array]",K="[object Boolean]",V="[object Date]",Y="[object Error]",G="[object Function]",X="[object Map]",Z="[object Number]",Q="[object Object]",tt="[object RegExp]",nt="[object Set]",et="[object String]",rt="[object WeakMap]",ot="[object ArrayBuffer]",ut="[object Float32Array]",it="[object Float64Array]",at="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",lt="[object Uint8Array]",st="[object Uint8ClampedArray]",pt="[object Uint16Array]",vt="[object Uint32Array]",ht=/\b__p \+= '';/g,dt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39|#96);/g,yt=/[&<>"'`]/g,_t=RegExp(gt.source),bt=RegExp(yt.source),wt=/<%-([\s\S]+?)%>/g,jt=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ot=/^\w*$/,Rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,kt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(kt.source),Pt=/[\u0300-\u036f\ufe20-\ufe23]/g,At=/\\(\\)?/g,It=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nt=/\w*$/,Tt=/^0[xX]/,Mt=/^\[object .+?Constructor\]$/,St=/^\d+$/,Dt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ft=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,$t=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Wt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ut=-1,qt={};qt[ut]=qt[it]=qt[at]=qt[ct]=qt[ft]=qt[lt]=qt[st]=qt[pt]=qt[vt]=!0,qt[J]=qt[H]=qt[ot]=qt[K]=qt[V]=qt[Y]=qt[G]=qt[X]=qt[Z]=qt[Q]=qt[tt]=qt[nt]=qt[et]=qt[rt]=!1;var Lt={};Lt[J]=Lt[H]=Lt[ot]=Lt[K]=Lt[V]=Lt[ut]=Lt[it]=Lt[at]=Lt[ct]=Lt[ft]=Lt[Z]=Lt[Q]=Lt[tt]=Lt[et]=Lt[lt]=Lt[st]=Lt[pt]=Lt[vt]=!0,Lt[Y]=Lt[G]=Lt[X]=Lt[nt]=Lt[rt]=!1;var zt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ht={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kt={"function":!0,object:!0},Vt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Yt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gt=Kt[typeof e]&&e&&!e.nodeType&&e,Xt=Kt[typeof n]&&n&&!n.nodeType&&n,Zt=Gt&&Xt&&"object"==typeof t&&t&&t.Object&&t,Qt=Kt[typeof self]&&self&&self.Object&&self,tn=Kt[typeof window]&&window&&window.Object&&window,nn=Xt&&Xt.exports===Gt&&Gt,en=Zt||tn!==(this&&this.window)&&tn||Qt||this,rn=E();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(en._=rn,define(function(){return rn})):Gt&&Xt?nn?(Xt.exports=rn)._=rn:Gt._=rn:en._=rn}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,n,e){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;n.exports=Object.assign||function(t,n){for(var e,i,a=r(t),c=1;c<arguments.length;c++){e=Object(arguments[c]);for(var f in e)o.call(e,f)&&(a[f]=e[f]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(e);for(var l=0;l<i.length;l++)u.call(e,i[l])&&(a[i[l]]=e[i[l]])}}return a}},{}],3:[function(t,n,e){"use strict";function r(t){console.log(t)}function o(t){var n={};return t.forEach(function(t){n[t.name]=t}),n}function u(t){i.push(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.log=r,e.makeSkuMap=o,e.resize=u;var i=[],a=null;window.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(function(){i.forEach(function(t){t()})},200)},!1)},{}],4:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},a=function(t){function n(){r(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return o(n,t),u(n,[{key:"render",value:function(){var t=(this.props.size||48)+"px",n={height:t,width:t};return React.createElement("a",{href:"/users/"+this.props.user._id},React.createElement("img",{className:"avatar",style:n,src:this.props.user.avatar}))}}]),n}(React.Component);e["default"]=a,n.exports=e["default"]},{}],5:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},c=t("./comment"),f=r(c),l=function(t){function n(){o(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return u(n,t),i(n,[{key:"handleOnFocus",value:function(t){var n=React.findDOMNode(this.refs.textarea);n.className="focus"}},{key:"handleOnBlur",value:function(t){var n=React.findDOMNode(this.refs.textarea);0===n.value.length&&(n.className="blur")}},{key:"getComments",value:function(){return this.props.comments.map(function(t,n){return React.createElement(f["default"],{key:t._id,comment:t})})}},{key:"render",value:function(){return React.createElement("div",{className:"comment-box"},React.createElement("div",{className:"comment-textarea"},React.createElement("div",null,React.createElement("textarea",{ref:"textarea",onBlur:this.handleOnBlur.bind(this),onFocus:this.handleOnFocus.bind(this),placeholder:"说点什么.."})),React.createElement("button",{className:"button"},"发布评论")),React.createElement("div",{className:"comments"},this.getComments()))}}]),n}(React.Component);e["default"]=l,n.exports=e["default"]},{"./comment":6}],6:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},c=t("./avatar"),f=r(c),l=function(t){function n(){o(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return u(n,t),i(n,[{key:"render",value:function(){return React.createElement("div",{className:"comment"},React.createElement(f["default"],{user:this.props.comment.user}),React.createElement("div",{className:"comment-right"},React.createElement("div",{className:"comment-info"},React.createElement("span",{className:"comment-username"},this.props.comment.user.name),React.createElement("span",{className:"comment-date"},this.props.comment.date)),React.createElement("p",{className:"comment-content"},this.props.comment.content),React.createElement("div",{className:"comment-tools"},React.createElement("span",{className:"comment-tool-unit comment-reply-count"},React.createElement("a",{hrf:"#"},"回复（10）")))))}}]),n}(React.Component);e["default"]=l,n.exports=e["default"]},{"./avatar":4}],7:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},a=function(t){function n(){r(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return o(n,t),u(n,[{key:"render",value:function(){return React.createElement("div",{className:"hot-topic-slide"})}}]),n}(React.Component);e["default"]=a,n.exports=e["default"]},{}],8:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},a=function(t){function n(t){r(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t)}return o(n,t),u(n,[{key:"getItems",value:function(){var t=this;return 0!==this.props.menus.length?React.createElement("ul",{className:"menus"},this.props.menus.map(function(n,e){return React.createElement("li",{className:"menu-item",key:e},React.createElement("a",{className:e===t.props.activeIndex?"active":"",href:n.url},n.name))})):React.createElement("span",null)}},{key:"render",value:function(){return React.createElement("div",{className:"menus-wrapper"},React.createElement("h1",null,React.createElement("a",{href:"/"},"极客淘")))}}]),n}(React.Component);e["default"]=a,n.exports=e["default"]},{}],9:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},a=function(t){function n(){r(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return o(n,t),u(n,[{key:"render",value:function(){var t=this,n=function(){return{__html:t.props.product.content.extended}};return React.createElement("div",{className:"post",dangerouslySetInnerHTML:n()})}}]),n}(React.Component);e["default"]=a,n.exports=e["default"]},{}],10:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},a=function(t){function n(){r(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return o(n,t),u(n,[{key:"render",value:function(){return React.createElement("div",{className:"recommendation-slider"})}}]),n}(React.Component);e["default"]=a,n.exports=e["default"]},{}],11:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");

}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t,n,e){for(var r=!0;r;){var o=t,u=n,i=e;a=f=c=void 0,r=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,u);if(void 0!==a){if("value"in a)return a.value;var c=a.get;return void 0===c?void 0:c.call(i)}var f=Object.getPrototypeOf(o);if(null===f)return void 0;t=f,n=u,e=i,r=!0}},a=function(t){function n(){r(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this)}return o(n,t),u(n,[{key:"render",value:function(){var t="嗖～！";return React.createElement("div",{className:"search"},React.createElement("input",{type:"text",placeholder:this.props.placeholder||t}),React.createElement("span",{className:"search-icon center"},React.createElement("i",{className:"fa fa-search"})))}}]),n}(React.Component);e["default"]=a,n.exports=e["default"]},{}],12:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(){for(var t=0,n=R["default"][0];t++<20;){var e=b["default"].extend({},n);e._id=t,e.content=e.content.repeat(t),R["default"].push(e)}}var u=(t("./common/util"),t("./components/menu")),i=r(u),a=t("./components/post"),c=r(a),f=t("./components/comment-box"),l=r(f),s=t("./components/recommendation-slider"),p=r(s),v=t("./components/hot-topic-slide"),h=r(v),d=t("./components/search"),m=r(d),g=t("./components/avatar"),y=r(g),_=t("lodash"),b=r(_),w=t("../../test/fixtures/products"),j=r(w),x=t("../../test/fixtures/menus.json"),E=r(x),O=t("../../test/fixtures/comments.json"),R=r(O);o();var k=-1,C=j["default"](20)[0],P={_id:43123,name:"jery",avatar:"assets/jerry.gif"};React.render(React.createElement("div",null,React.createElement("div",{className:"nav-bar"},React.createElement(i["default"],{menus:E["default"],activeIndex:k}),React.createElement("div",{className:"align-content"},React.createElement(y["default"],{size:32,user:P}),React.createElement(m["default"],null))),React.createElement("div",{className:"content"},React.createElement("div",{className:"content-left"},React.createElement(c["default"],{product:C}),React.createElement(l["default"],{comments:R["default"]})),React.createElement("div",{className:"content-right"},React.createElement(p["default"],null),React.createElement(h["default"],null)))),document.getElementById("wrapper"))},{"../../test/fixtures/comments.json":13,"../../test/fixtures/menus.json":14,"../../test/fixtures/products":15,"./common/util":3,"./components/avatar":4,"./components/comment-box":5,"./components/hot-topic-slide":7,"./components/menu":8,"./components/post":9,"./components/recommendation-slider":10,"./components/search":11,lodash:1}],13:[function(t,n,e){n.exports=[{_id:0,date:"2015-07-07",content:"只有这么长的评论才是真爱啊！",user:{_id:0,name:"杰瑞",avatar:"assets/jerry.gif"}}]},{}],14:[function(t,n,e){n.exports=[{name:"所有",url:"/"},{name:"电脑",url:"/"},{name:"键盘",url:"/"},{name:"办公椅",url:"/"},{name:"软件",url:"/"},{name:"背包",url:"/"},{name:"鸡鸡",url:"/"}]},{}],15:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=t("object-assign"),u=r(o),i=t("./util"),a='<p>可以把上面的“新文章”看成是一个事件，“订阅文章”则是“<strong>监听</strong>”这个事件，“发布新文章”则是“<strong>触发</strong>”这个事件，“取消订阅文章”就是“<strong>取消监听</strong>”“新文章”这个事件。假如“<strong>监听</strong>”用<code>on</code>来表示，“<strong>触发</strong>”用<code>emit</code>来表示，“<strong>取消监听</strong>”用<code>off</code>来表示，那么上面的代码可以重新表示为：</p>\n\n<pre><code>var blog = new Blog; // 假设已有一个Blog类实现on、emit、off方法\n\nvar readerFunc1 = function(blogContent) {\n    console.log(blogContent + " will be shown here.");\n}\nvar readerFunc2 = function(blogContent) {\n    console.log(blogContent + " will be shown here, too.");\n}\n\nblog.on("new post", readerFunc1); // 读者1监听事件\nblog.on("new post", readerFunc2); // 读者2监听事件\n\nblog.emit("new post", "This is blog content."); // 发布博客内容，触发事件，上面的两个读者的函数都会被调用\nblog.off("new post", readerFunc1); // 读者1取消监听事件\nblog.emit("new post", "This is another blog content."); // readerFunc1函数不再调用，readerFunc2继续调用\n</code></pre>\n\n<p>这就是前端中观察者模式的一种具体的表现，使用<code>on</code>来监听特定的事件，<code>emit</code>触发特定的事件，<code>off</code>取消监听特定的事件。再举一个场景“小猫听到小狗叫就会跑”：</p>\n\n<pre><code>var dog = new Dog;\nvar cat = new Cat;\n\ndog.on("park", function() {\n    cat.run();\n});\n\ndog.emit("park");\n</code></pre>\n\n<p>巧妙利用观察者模式可以让前端应用开发耦合性变得更加低，开发效率更高。可能说“变得更有趣”会显得有点不专业，但确实会变得有趣。</p>\n\n<h3>1.2 EventEmitter2</h3>\n\n<p>上面可能比较疑惑的一个点就是，<code>on</code>、<code>emit</code>、<code>off</code>函数该怎么实现？</p>\n\n<p>如果要自己实现一遍也不很复杂：每个“事件名”对应的就是一个函数数组，每次<code>on</code>某个事件的时候就是把函数压到对应的函数数组当中；每次<code>emit</code>的时候相当于把事件名对应的函数数组遍历一遍进行调用；每次<code>off</code>的时候把目标函数从数组当中剔除。<a href="https://github.com/livoras/stereojs/blob/master/src/events.js">这里</a>有个简单的实现，有兴趣的可以了解一下。</p>\n\n<p>重复发明轮子的事情就不要做了，其实现成有很多JavaScript的事件库，直接拿来用就好了。比较流行、常用的就是<a href="https://github.com/asyncly/EventEmitter2">EventEmitter2</a>这个事件库，本文主要使用这个库来展开对观察者模式在前端应用中的讨论。但实际上，<strong>你可以使用任何自己构建的或者第三方的事件库来实践本文所提及的应用方式</strong>。</p>\n\n<h2>2. EventEmitter2 简介</h2>\n\n<p>EventEmitter本来是Node.js中自带的<code>events</code>模块中的一个类，可见<a href="https://nodejs.org/api/events.html">Node.js文档</a>。可供开发者自定义事件，后来有人把它重新实现了一遍，优化了实现方式，提高了性能，新增了一些方便的API，这就是<a href="https://github.com/asyncly/EventEmitter2">EventEmitter2</a>。当然，后来陆续出现了<a href="https://www.npmjs.com/package/eventemitter3">EventEmitter3</a>，<a href="https://www.npmjs.com/package/eventemitter4">EventEmitter4</a>。可见没有女朋友的程序员也是比较无聊地只好重复发明和优化轮子。</p>\n\n<p>EventEmitter2可以供浏览器、或者Node.js使用。安装过程和API就不在这里累述，参照官方文档即可。使用Browserify或者Node.js可以非常方便地引用EvenEmitter2，只需要require即可。示例：</p>\n\n<pre><code>var EventEmitter2 = require(\'eventemitter2\').EventEmitter2;\nvar emitter = new EventEmitter2;\n\nemitter.on("Hello World", function() {\n    console.log("Somebody said: Hello world.");\n});\n\nemitter.emit("Hello World"); // 输出 Somebody said: Hello world.\n</code></pre>\n\n<h3>2.1 EventEmitter2作为父类给给子类提供事件机制</h3>\n\n<p>但在实际应用当中，很少单纯EventEmitter直接实例化来使用。比较多的应用场景是，为某些已有的类添加事件的功能。如上面的第一章中的“小猫听到小狗叫就会跑”的例子，<code>Cat</code>和<code>Dog</code>类本身就有自己的类属性、方法，需要的是为已有的Cat、Dog添加事件功能。这里就需要让EventEmitter作为其他类的父类进行继承。</p>\n\n<pre><code>var EventEmitter2 = require(\'eventemitter2\').EventEmitter2;\n\n// Cat子类继承父类构造字\nfunction Cat() {\n    EventEmitter2.apply(this);\n    // Cat 构造子，属性初始化等\n}\n\n// 原型继承\nCat.prototype = Object.create(EventEmitter2.prototype);\nCat.prototype.constructor = Cat; // =&gt; 这两行看不懂的可以先复习一下JS\n\n// Cat类方法\nCat.prototype.run = function () {\n    console.log("This cat is running...");\n}\n\nvar cat = new Cat;\nconsole.assert(typeof cat.on == "function"); // =&gt; true\nconsole.assert(typeof cat.run == "function"); // =&gt; true\n</code></pre>\n\n<p>很棒是吧，这样就可以即有EventEmitter2的原型方法，也可以定义Cat自身的方法。</p>\n\n<p>这一点都不棒！每次定义一个类都要重新写一堆啰嗦的东西，下面做个继承的改进：构建一个函数，只需要传入已经定义好的类就可以在不影响类原有功能的情况下，让其拥有EventEmitter2的功能：</p>\n\n<pre><code>// Function `eventify`: Making a class get power of EventEmitter2!\n// @copyright: Livoras\n// @date: 2015/3/27\n// All rights reserve!\n\nfunction eventify(klass) {\n    if (klass.prototype instanceof EventEmitter2) {\n        console.warn("Class has been eventified!");\n        return klass;\n    }\n\n    function Tempt() {\n        klass.apply(this, arguments);\n        EventEmitter2.call(this);\n    };\n    function Tempt2() {};\n\n    Tempt2.prototype = Object.create(EventEmitter2.prototype)\n    Tempt2.prototype.constructor = EventEmitter2;\n\n    var temptProp = Object.create(Tempt2.prototype);\n    var klassProp = klass.prototype;\n\n    for (var attr in klassProp) {\n        temptProp[attr] = klassProp[attr];\n    }\n\n    Tempt.prototype = temptProp;\n    Tempt.prototype.constructor = klass;\n\n    return Tempt;\n}\n</code></pre>\n\n<p>上面的代码可以的实现原理在这里并不重要的，有兴趣的可以看下一篇博客，讨论<code>eventify</code>的实现原理。在这里只需要知道，有了eventify就可以很方便的给类添加EventEmitter2的功能，使用方法如下：</p>\n\n<pre><code>// Dog类的构造函数和原型方法定义\nfunction Dog(name) {\n  this.name = name;\n}\n\nDog.prototype.park = function() {\n  console.log(this.name + " parking....");\n}\n\n// 使Dog具有EventEmitter2功能\nDog = eventify(Dog);\nvar dog = new Dog("Jerry");\n\ndog.on("somebody is coming", function() {\n    dog.park();\n})\n\ndog.emit("somebody is coming") // 输出 Jerry is parking....\n</code></pre>\n\n<p>如上面的代码，现在没有必要为Dog类重新书写类继承代码，只需要按正常的方式定义好Dog类，然后传入eventify函数即可使Dog获取EventEmitter2的功能。本文接下来的讨论会持续使用<code>eventify</code>函数。</p>\n\n<p><strong>注意</strong>：如果你正在使用CoffeeScript，直接使用CoffeeScript自带的extends进行类继承即可，无需上面复杂的代码：</p>\n\n<pre><code>class Dog extends EventEmitter2\n    constructor: -&gt;\n        super.apply @, arguments\n    park: -&gt;\n        // ...\n</code></pre>\n\n<h2>3. EventEmitter2 在组件化的前端架构中的应用</h2>\n\n<h3>3.1 组件化的前端架构</h3>\n\n<p>当一个前端应用足够复杂的时候，往往需要对应用进行“组件化”。所谓组件化，就是把一个大的应用拆分成多个小的应用。每个“应用”具有自己独特的结构和内容、样式和业务逻辑，这些小的应用称为“组件”（Component）。组件的复用性一般很强，是DRY原则的典范，多个组件的嵌套、组合，构建成了一个完成而复杂的应用。</p>\n\n<p>举我在《<a href="http://livoras.com/post/22">一种SPA（单页面应用）架构</a>》举过的例子，博客的评论功能组件：</p>\n\n<p><img src="https://cloud.githubusercontent.com/assets/6436132/3597178/7cc6cd9c-0cce-11e4-8d7e-53f9e113d4c2.jpg" alt="comments-replies-poputbox"></p>\n\n<p>这个评论组件的功能大概如此：<strong>可显示多条评论（comment）；每条评论多条有自己的回复（reply）；评论或者回复都会显示有用户头像，鼠标放到用户头像上会显示该用户的信息（类似微博的功能）</strong>。</p>\n\n<p>这里可以把这个功能分好几个组件：</p>\n\n<ol>\n<li>整体评论功能作为一个组件：commentsBox</li>\n<li>commentsBox有子组件（child component）comment负责显示用户的评论</li>\n<li>每个comment组件有子组件replay负责显示用户对评论的回复</li>\n<li>commentsBox有子组件user-info-card负责显示用户的信息</li>\n</ol>\n\n\n<p>组件这样的关系可以用树的结构来表示：</p>\n\n<p><img class="mid" src="https://raw.githubusercontent.com/livoras/blog-images/master/events/1.png"></p>\n\n<p>这里要注意的是组件之间的关系一般有两种：嵌套和组合。嵌套，如，每个commentBox有comment和user-info-card，comment和user-info-card是嵌套在commentBox当中的，所以这两个组件和commentBox之间都是嵌套的关系；组合，comment和user-info-card都是作为commentBox的子组件存在，他们两个互为兄弟，是组合的关系。处理组件之间的嵌套和组合关系是架构层面需要解决的最重要的问题之一，不在本文讨论范围内，故不累述。但接下来我们讨论的“组件之间以事件的形式进行消息传递”和这些组件之间的关系密切相关。</p>\n\n<p>当开始按照上面的设计进行组件化的时候，我们首先要做的是为每个组件构建一个超类，所有的组件都应该继承这个超类：</p>\n\n<p>component.js:</p>\n\n<pre><code>eventify = require("./eventify.js");\n\n// Component构造函数\nfunction Component(parent) {\n    this.$el = $("...")\n    this.parent = parent;\n}\n\n// Component原型方法\nComponent.prototype.init = function () {/* ... */};\n\nmodule.exports = eventify(Component);\n</code></pre>\n\n<p>这里为了方便起见，Component基本什么内容都没有，几乎只是一个“空”的类，而它通过eventify函数获得了“超能力”，所以继承Component的类同样具有事件的功能。</p>\n\n<p>注意Component构造函数，每个Component在示例化的时候应该传入一个它所属的<strong>父组件</strong>的实例<code>parent</code>，接下来会看到，组件之间的消息通信可以通过这个实例来完成。而<code>$el</code>可以看作是该组件所负责的HTML元素。</p>\n\n<h3>3.2 父子、兄弟组件之间的消息传递</h3>\n\n<p>现在把注意力放在commentsBox、comment、user-info-card三个组件上，暂且忽略reply。</p>\n\n<p>目前要实现的功能是：鼠标放到comment组件的用户头像上，就会显示用户信息。要把这个功能完成大概是这么一个事件流程：comment组件监听用户鼠标放在头像上的交互事件，然后通过<code>this.parent</code>向父组件（commentsBox）传递该事件（<code>this.parent</code>就是commentsBox），commentsBox获取到该事件以后触发一个事件给user-info-card，user-info-card可以通过<code>this.parent</code>监听到该事件，显示用户信息。</p>\n\n<pre><code>// comment-component.js\n// 从Component类中继承获得Comment类\n// ...\n\n// 原型方法\nComment.prototype.init = function () {\n    var that = this;\n    this.$el.find("div.avatar").on("mouseover", function () {\n        // 这里的that.parent相当于父组件CommentsBox，在Comment组件被示例化的时候传入\n        that.parent.emit("comment:user-mouse-on-avatar", this.userId);\n    })\n}\n</code></pre>\n\n<p>]上述代码为当用户把鼠标放到用户头像的时候触发一个事件<code>comment:user-mouse-on-avatar</code>，这里需要注意的是，通过<code>组件名:事件名</code>给这样的事件命名方式可以区分事件的来源组件或目标组件，是一种比较好的编程习惯。</p>\n',c={_id:0,title:"Chair for fucking",details:{pictures:["assets/chair.jpg","assets/arduino.jpg","assets/dji.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},f={_id:0,title:"Arduino",details:{pictures:["assets/arduino.jpg","assets/chair.jpg","assets/dji.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},l={_id:0,title:"DJI",details:{pictures:["assets/dji.jpg","assets/arduino.jpg","assets/chair.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},s={_id:0,title:"DJI",details:{pictures:["assets/pig.jpg","assets/arduino.jpg","assets/chair.jpg","assets/dji.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},p=[c,f,l,s];e["default"]=function(t){var n=[];t=t||20*Math.random();for(var e=0,r=t;r>e;e++){var o=parseInt(p.length*Math.random()),c=u["default"]({},p[o]);c.title=c.title+"_"+e,c._id=e,c.content.brief=i.randomContent(),c.title=i.randomWord(),c.details.upvote=Math.floor(2e5*Math.random()),c.content.extended=a,c.details.ext={"闭合方式":"套脚","风格":"百搭,时尚休","季节":"春季","款式":"单","流行元素":"纯色,金属装饰","皮质特征":"磨砂","色系":"棕色","适用场合":"日常携带,约会,日常休","销售季":"15年春季","鞋底材质":"橡胶","鞋跟形状":"平跟","头":"圆","性别":"男子","制作工艺":"胶贴皮鞋 "},c.posts=[{_id:0,title:"习近平主持政治局会议 通过繁荣文艺意见"},{_id:1,title:"中越边境雷区四伏:有村庄平均每户少一条腿"},{_id:0,title:"天津爆炸8名失联者被确认无生还可能"},{_id:1,title:"央视回应节目中盗播网友作品:编辑网购付费购得"}],n.push(c)}return n},n.exports=e["default"]},{"./util":16,"object-assign":2}],16:[function(t,n,e){"use strict";function r(t){t=t||Math.floor(2+25*Math.random());for(var n=o(),e=0;t>e;e++)n=n+" "+o();return n}function o(){for(var t="",n="abcdefghijklmnopqrstuvwxyz",e=Math.floor(3+10*Math.random()),r=0;e>r;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={randomWord:o,randomContent:r},n.exports=e["default"]},{}]},{},[12]);