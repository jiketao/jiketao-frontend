!function e(t,n,o){function r(c,i){if(!n[c]){if(!t[c]){var u="function"==typeof require&&require;if(!i&&u)return u(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+c+"'")}var l=n[c]={exports:{}};t[c][0].call(l.exports,function(e){var n=t[c][1][e];return r(n?n:e)},l,l.exports,e,t,n,o)}return n[c].exports}for(var a="function"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,t,n){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e,t){for(var n,c,i=o(e),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var l in n)r.call(n,l)&&(i[l]=n[l]);if(Object.getOwnPropertySymbols){c=Object.getOwnPropertySymbols(n);for(var s=0;s<c.length;s++)a.call(n,c[s])&&(i[c[s]]=n[c[s]])}}return i}},{}],2:[function(e,t,n){"use strict";function o(e){console.log(e)}function r(e){var t={};return e.forEach(function(e){t[e.name]=e}),t}function a(e){c.push(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.log=o,n.makeSkuMap=r,n.resize=a;var c=[],i=null;window.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(function(){c.forEach(function(e){e()})},200)},!1)},{}],3:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var n="jiketao";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+n+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()}return r(t,e),a(t,[{key:"render",value:function(){return React.createElement("div",{className:"disqus"},React.createElement("div",{id:"disqus_thread"}),React.createElement("noscript",null,"Please enable JavaScript to view the ",React.createElement("a",{href:"https://disqus.com/?ref_noscript",rel:"nofollow"},"comments powered by Disqus.")))}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return r(t,e),a(t,[{key:"render",value:function(){return React.createElement("div",{className:"footer"},React.createElement("div",{className:"footer-align"},React.createElement("a",{href:"#",className:"cell"},"å…³äºæå®¢æ·˜"),React.createElement("a",{href:"#",className:"cell"},"Github"),React.createElement("a",{href:"#",className:"cell"},"Teamï¼šç‰¹ğŸ¶ï¼Œ6174ï¼Œlivoras"),React.createElement("a",{href:"#",className:"cell"},"Copyright@æå®¢æ·˜")))}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],5:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return r(t,e),a(t,[{key:"render",value:function(){return React.createElement("div",{className:"hot-topic-slide"})}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],6:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return r(t,e),a(t,[{key:"getContent",value:function(){return{__html:this.props.content}}},{key:"render",value:function(){return React.createElement("div",{className:"markdown-content",dangerouslySetInnerHTML:this.getContent()})}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],7:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return r(t,e),a(t,[{key:"getItems",value:function(){var e=this;return 0!==this.props.menus.length?React.createElement("ul",{className:"menus"},this.props.menus.map(function(t,n){return React.createElement("li",{className:"menu-item",key:n},React.createElement("a",{className:n===e.props.activeIndex?"active":"",href:t.url},t.name))})):React.createElement("span",null)}},{key:"render",value:function(){return React.createElement("div",{className:"menus-wrapper"},React.createElement("h1",null,React.createElement("a",{href:"/"},"æå®¢æ·˜")))}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],8:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return r(t,e),a(t,[{key:"render",value:function(){return React.createElement("div",null,"post links..")}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],9:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={activeIndex:0}}return r(t,e),a(t,[{key:"onSelectPicture",value:function(e){this.setState({activeIndex:e})}},{key:"render",value:function(){var e=this;return React.createElement("div",{className:"product-picture"},React.createElement("img",{className:"show",src:this.props.pictures[this.state.activeIndex]}),React.createElement("ul",{className:"img-list"},this.props.pictures.map(function(t,n){var o="item";return 0===n?o+=" item-first":n===e.props.pictures.length-1&&(o+=" item-last"),n===e.state.activeIndex&&(o+=" active"),React.createElement("li",{className:o,onClick:e.onSelectPicture.bind(e,n)},React.createElement("img",{className:"item-img",src:t}))})))}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],10:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},u=e("./product-picture"),l=o(u),s=e("./tag"),p=o(s),f=e("../common/util"),m=function(e){function t(e){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),f.resize(this.forceUpdate.bind(this))}return a(t,e),c(t,[{key:"getStyles",value:function(){}},{key:"render",value:function(){return this.getStyles(),React.createElement("div",{className:"product-summary"},React.createElement("div",{className:"summary-left"},React.createElement("div",{className:"product-picture-align"},React.createElement(l["default"],{pictures:this.props.product.details.pictures})),React.createElement("div",{className:"product-profile"},React.createElement("h3",null,this.props.product.title),React.createElement("section",null,React.createElement("span",{className:"name"},"å‚è€ƒä»·æ ¼"),React.createElement("span",{className:"value money"},React.createElement("i",{className:"RMB"}),this.props.product.details.price)),React.createElement("section",null,React.createElement("span",{className:"name"},"ä»·æ ¼èŒƒå›´"),React.createElement("span",{className:"value money"},React.createElement("i",{className:"RMB"}),this.props.product.details.priceRange.min," ~Â ",React.createElement("i",{className:"RMB"}),this.props.product.details.priceRange.max)),React.createElement("section",{className:"tags"},React.createElement("span",{className:"name"},"äº§å“åˆ†ç±»"),React.createElement("span",{className:"value"},this.props.product.categories.map(function(e){return React.createElement(p["default"],{tagName:e.name,key:e._id})}))),React.createElement("section",{className:"content-area"},React.createElement("h4",{className:"name"},"ç®€ä»‹"),React.createElement("p",{className:"value money"},this.props.product.content.brief)))))}}]),t}(React.Component);n["default"]=m,t.exports=n["default"]},{"../common/util":2,"./product-picture":9,"./tag":14}],11:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return r(t,e),a(t,[{key:"render",value:function(){return React.createElement("div",{className:"recommendation-slider"})}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],12:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this)}return r(t,e),a(t,[{key:"render",value:function(){var e="å—–ï½ï¼";return React.createElement("div",{className:"search"},React.createElement("input",{type:"text",placeholder:this.props.placeholder||e}),React.createElement("span",{className:"search-icon center"},React.createElement("i",{className:"fa fa-search"})))}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],13:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return r(t,e),a(t,[{key:"render",value:function(){var e=this;return React.createElement("div",{className:"specifications"},React.createElement("h4",null,"äº§å“å‚æ•°"),Object.keys(this.props.specs).map(function(t){return React.createElement("section",null,React.createElement("span",{className:"name"},t),React.createElement("span",{className:"value"},e.props.specs[t]))}))}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],14:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},i=function(e){function t(e){o(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return r(t,e),a(t,[{key:"onTagClick",value:function(){this.props.onTagClick&&this.props.onTagClick(this.props.tagName)}},{key:"render",value:function(){return React.createElement("span",{className:"tag",onClick:this.onTagClick.bind(this)},this.props.tagName)}}]),t}(React.Component);n["default"]=i,t.exports=n["default"]},{}],15:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(e,t,n){for(var o=!0;o;){var r=e,a=t,c=n;i=l=u=void 0,o=!1,null===r&&(r=Function.prototype);var i=Object.getOwnPropertyDescriptor(r,a);if(void 0!==i){if("value"in i)return i.value;var u=i.get;return void 0===u?void 0:u.call(c)}var l=Object.getPrototypeOf(r);if(null===l)return void 0;e=l,t=a,n=c,o=!0}},u=(e("./common/util"),e("./components/menu")),l=o(u),s=e("./components/search"),p=o(s),f=e("./components/recommendation-slider"),m=(o(f),e("./components/hot-topic-slide")),d=(o(m),e("./components/footer")),v=o(d),y=e("./components/product-summary"),b=o(y),g=e("./components/specifications"),h=o(g),O=e("./components/markdown-content"),E=o(O),j=e("./components/post-links"),w=(o(j),e("./components/disqus")),P=o(w),R=e("../../test/fixtures/products"),_=o(R),C=window.menus||[{name:"é¦–é¡µ",url:"/"},{name:"å…³äº",url:"/about"},{name:"...",url:"/"}],k=0,x=window.product||_["default"]()[0],N=function(e){function t(e){r(this,t),i(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={menus:C,activeMenuIndex:k}}return a(t,e),c(t,[{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",{className:"nav-bar"},React.createElement(l["default"],{menus:this.state.menus,activeIndex:this.state.activeMenuIndex}),React.createElement("div",{className:"align-content"},React.createElement(p["default"],null))),React.createElement("div",{className:"content"},React.createElement("div",{className:"content-unit"},React.createElement(b["default"],{product:x})),React.createElement("div",{className:"content-unit"},React.createElement(h["default"],{specs:x.details.ext})),React.createElement("div",{className:"content-unit"},React.createElement("div",{className:"product-detail"},React.createElement("h4",null,"å›¾æ–‡è¯¦æƒ…"),React.createElement(E["default"],{content:x.content.extended}))),React.createElement("div",{className:"content-unit"},React.createElement("div",{className:"relative-posts"},React.createElement("h4",null,"ç›¸å…³æ–‡ç« "),React.createElement("ul",{className:"posts-list"},x.posts.map(function(e){return React.createElement("li",{className:"post-item"},React.createElement("a",{href:"/posts/"+e._id},e.title))})))),React.createElement("div",{className:"content-unit"},React.createElement(P["default"],null))),React.createElement(v["default"],null))}}]),t}(React.Component);React.render(React.createElement(N,null),document.getElementById("wrapper"))},{"../../test/fixtures/products":16,"./common/util":2,"./components/disqus":3,"./components/footer":4,"./components/hot-topic-slide":5,"./components/markdown-content":6,"./components/menu":7,"./components/post-links":8,"./components/product-summary":10,"./components/recommendation-slider":11,"./components/search":12,"./components/specifications":13}],16:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("object-assign"),a=o(r),c=e("./util"),i='<p>å¯ä»¥æŠŠä¸Šé¢çš„â€œæ–°æ–‡ç« â€çœ‹æˆæ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œâ€œè®¢é˜…æ–‡ç« â€åˆ™æ˜¯â€œ<strong>ç›‘å¬</strong>â€è¿™ä¸ªäº‹ä»¶ï¼Œâ€œå‘å¸ƒæ–°æ–‡ç« â€åˆ™æ˜¯â€œ<strong>è§¦å‘</strong>â€è¿™ä¸ªäº‹ä»¶ï¼Œâ€œå–æ¶ˆè®¢é˜…æ–‡ç« â€å°±æ˜¯â€œ<strong>å–æ¶ˆç›‘å¬</strong>â€â€œæ–°æ–‡ç« â€è¿™ä¸ªäº‹ä»¶ã€‚å‡å¦‚â€œ<strong>ç›‘å¬</strong>â€ç”¨<code>on</code>æ¥è¡¨ç¤ºï¼Œâ€œ<strong>è§¦å‘</strong>â€ç”¨<code>emit</code>æ¥è¡¨ç¤ºï¼Œâ€œ<strong>å–æ¶ˆç›‘å¬</strong>â€ç”¨<code>off</code>æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆä¸Šé¢çš„ä»£ç å¯ä»¥é‡æ–°è¡¨ç¤ºä¸ºï¼š</p>\n\n<pre><code>var blog = new Blog; // å‡è®¾å·²æœ‰ä¸€ä¸ªBlogç±»å®ç°onã€emitã€offæ–¹æ³•\n\nvar readerFunc1 = function(blogContent) {\n    console.log(blogContent + " will be shown here.");\n}\nvar readerFunc2 = function(blogContent) {\n    console.log(blogContent + " will be shown here, too.");\n}\n\nblog.on("new post", readerFunc1); // è¯»è€…1ç›‘å¬äº‹ä»¶\nblog.on("new post", readerFunc2); // è¯»è€…2ç›‘å¬äº‹ä»¶\n\nblog.emit("new post", "This is blog content."); // å‘å¸ƒåšå®¢å†…å®¹ï¼Œè§¦å‘äº‹ä»¶ï¼Œä¸Šé¢çš„ä¸¤ä¸ªè¯»è€…çš„å‡½æ•°éƒ½ä¼šè¢«è°ƒç”¨\nblog.off("new post", readerFunc1); // è¯»è€…1å–æ¶ˆç›‘å¬äº‹ä»¶\nblog.emit("new post", "This is another blog content."); // readerFunc1å‡½æ•°ä¸å†è°ƒç”¨ï¼ŒreaderFunc2ç»§ç»­è°ƒç”¨\n</code></pre>\n\n<p>è¿™å°±æ˜¯å‰ç«¯ä¸­è§‚å¯Ÿè€…æ¨¡å¼çš„ä¸€ç§å…·ä½“çš„è¡¨ç°ï¼Œä½¿ç”¨<code>on</code>æ¥ç›‘å¬ç‰¹å®šçš„äº‹ä»¶ï¼Œ<code>emit</code>è§¦å‘ç‰¹å®šçš„äº‹ä»¶ï¼Œ<code>off</code>å–æ¶ˆç›‘å¬ç‰¹å®šçš„äº‹ä»¶ã€‚å†ä¸¾ä¸€ä¸ªåœºæ™¯â€œå°çŒ«å¬åˆ°å°ç‹—å«å°±ä¼šè·‘â€ï¼š</p>\n\n<pre><code>var dog = new Dog;\nvar cat = new Cat;\n\ndog.on("park", function() {\n    cat.run();\n});\n\ndog.emit("park");\n</code></pre>\n\n<p>å·§å¦™åˆ©ç”¨è§‚å¯Ÿè€…æ¨¡å¼å¯ä»¥è®©å‰ç«¯åº”ç”¨å¼€å‘è€¦åˆæ€§å˜å¾—æ›´åŠ ä½ï¼Œå¼€å‘æ•ˆç‡æ›´é«˜ã€‚å¯èƒ½è¯´â€œå˜å¾—æ›´æœ‰è¶£â€ä¼šæ˜¾å¾—æœ‰ç‚¹ä¸ä¸“ä¸šï¼Œä½†ç¡®å®ä¼šå˜å¾—æœ‰è¶£ã€‚</p>\n\n<h3>1.2 EventEmitter2</h3>\n\n<p>ä¸Šé¢å¯èƒ½æ¯”è¾ƒç–‘æƒ‘çš„ä¸€ä¸ªç‚¹å°±æ˜¯ï¼Œ<code>on</code>ã€<code>emit</code>ã€<code>off</code>å‡½æ•°è¯¥æ€ä¹ˆå®ç°ï¼Ÿ</p>\n\n<p>å¦‚æœè¦è‡ªå·±å®ç°ä¸€éä¹Ÿä¸å¾ˆå¤æ‚ï¼šæ¯ä¸ªâ€œäº‹ä»¶åâ€å¯¹åº”çš„å°±æ˜¯ä¸€ä¸ªå‡½æ•°æ•°ç»„ï¼Œæ¯æ¬¡<code>on</code>æŸä¸ªäº‹ä»¶çš„æ—¶å€™å°±æ˜¯æŠŠå‡½æ•°å‹åˆ°å¯¹åº”çš„å‡½æ•°æ•°ç»„å½“ä¸­ï¼›æ¯æ¬¡<code>emit</code>çš„æ—¶å€™ç›¸å½“äºæŠŠäº‹ä»¶åå¯¹åº”çš„å‡½æ•°æ•°ç»„éå†ä¸€éè¿›è¡Œè°ƒç”¨ï¼›æ¯æ¬¡<code>off</code>çš„æ—¶å€™æŠŠç›®æ ‡å‡½æ•°ä»æ•°ç»„å½“ä¸­å‰”é™¤ã€‚<a href="https://github.com/livoras/stereojs/blob/master/src/events.js">è¿™é‡Œ</a>æœ‰ä¸ªç®€å•çš„å®ç°ï¼Œæœ‰å…´è¶£çš„å¯ä»¥äº†è§£ä¸€ä¸‹ã€‚</p>\n\n<p>é‡å¤å‘æ˜è½®å­çš„äº‹æƒ…å°±ä¸è¦åšäº†ï¼Œå…¶å®ç°æˆæœ‰å¾ˆå¤šJavaScriptçš„äº‹ä»¶åº“ï¼Œç›´æ¥æ‹¿æ¥ç”¨å°±å¥½äº†ã€‚æ¯”è¾ƒæµè¡Œã€å¸¸ç”¨çš„å°±æ˜¯<a href="https://github.com/asyncly/EventEmitter2">EventEmitter2</a>è¿™ä¸ªäº‹ä»¶åº“ï¼Œæœ¬æ–‡ä¸»è¦ä½¿ç”¨è¿™ä¸ªåº“æ¥å±•å¼€å¯¹è§‚å¯Ÿè€…æ¨¡å¼åœ¨å‰ç«¯åº”ç”¨ä¸­çš„è®¨è®ºã€‚ä½†å®é™…ä¸Šï¼Œ<strong>ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•è‡ªå·±æ„å»ºçš„æˆ–è€…ç¬¬ä¸‰æ–¹çš„äº‹ä»¶åº“æ¥å®è·µæœ¬æ–‡æ‰€æåŠçš„åº”ç”¨æ–¹å¼</strong>ã€‚</p>\n\n<h2>2. EventEmitter2 ç®€ä»‹</h2>\n\n<p>EventEmitteræœ¬æ¥æ˜¯Node.jsä¸­è‡ªå¸¦çš„<code>events</code>æ¨¡å—ä¸­çš„ä¸€ä¸ªç±»ï¼Œå¯è§<a href="https://nodejs.org/api/events.html">Node.jsæ–‡æ¡£</a>ã€‚å¯ä¾›å¼€å‘è€…è‡ªå®šä¹‰äº‹ä»¶ï¼Œåæ¥æœ‰äººæŠŠå®ƒé‡æ–°å®ç°äº†ä¸€éï¼Œä¼˜åŒ–äº†å®ç°æ–¹å¼ï¼Œæé«˜äº†æ€§èƒ½ï¼Œæ–°å¢äº†ä¸€äº›æ–¹ä¾¿çš„APIï¼Œè¿™å°±æ˜¯<a href="https://github.com/asyncly/EventEmitter2">EventEmitter2</a>ã€‚å½“ç„¶ï¼Œåæ¥é™†ç»­å‡ºç°äº†<a href="https://www.npmjs.com/package/eventemitter3">EventEmitter3</a>ï¼Œ<a href="https://www.npmjs.com/package/eventemitter4">EventEmitter4</a>ã€‚å¯è§æ²¡æœ‰å¥³æœ‹å‹çš„ç¨‹åºå‘˜ä¹Ÿæ˜¯æ¯”è¾ƒæ— èŠåœ°åªå¥½é‡å¤å‘æ˜å’Œä¼˜åŒ–è½®å­ã€‚</p>\n\n<p>EventEmitter2å¯ä»¥ä¾›æµè§ˆå™¨ã€æˆ–è€…Node.jsä½¿ç”¨ã€‚å®‰è£…è¿‡ç¨‹å’ŒAPIå°±ä¸åœ¨è¿™é‡Œç´¯è¿°ï¼Œå‚ç…§å®˜æ–¹æ–‡æ¡£å³å¯ã€‚ä½¿ç”¨Browserifyæˆ–è€…Node.jså¯ä»¥éå¸¸æ–¹ä¾¿åœ°å¼•ç”¨EvenEmitter2ï¼Œåªéœ€è¦requireå³å¯ã€‚ç¤ºä¾‹ï¼š</p>\n\n<pre><code>var EventEmitter2 = require(\'eventemitter2\').EventEmitter2;\nvar emitter = new EventEmitter2;\n\nemitter.on("Hello World", function() {\n    console.log("Somebody said: Hello world.");\n});\n\nemitter.emit("Hello World"); // è¾“å‡º Somebody said: Hello world.\n</code></pre>\n\n<h3>2.1 EventEmitter2ä½œä¸ºçˆ¶ç±»ç»™ç»™å­ç±»æä¾›äº‹ä»¶æœºåˆ¶</h3>\n\n<p>ä½†åœ¨å®é™…åº”ç”¨å½“ä¸­ï¼Œå¾ˆå°‘å•çº¯EventEmitterç›´æ¥å®ä¾‹åŒ–æ¥ä½¿ç”¨ã€‚æ¯”è¾ƒå¤šçš„åº”ç”¨åœºæ™¯æ˜¯ï¼Œä¸ºæŸäº›å·²æœ‰çš„ç±»æ·»åŠ äº‹ä»¶çš„åŠŸèƒ½ã€‚å¦‚ä¸Šé¢çš„ç¬¬ä¸€ç« ä¸­çš„â€œå°çŒ«å¬åˆ°å°ç‹—å«å°±ä¼šè·‘â€çš„ä¾‹å­ï¼Œ<code>Cat</code>å’Œ<code>Dog</code>ç±»æœ¬èº«å°±æœ‰è‡ªå·±çš„ç±»å±æ€§ã€æ–¹æ³•ï¼Œéœ€è¦çš„æ˜¯ä¸ºå·²æœ‰çš„Catã€Dogæ·»åŠ äº‹ä»¶åŠŸèƒ½ã€‚è¿™é‡Œå°±éœ€è¦è®©EventEmitterä½œä¸ºå…¶ä»–ç±»çš„çˆ¶ç±»è¿›è¡Œç»§æ‰¿ã€‚</p>\n\n<pre><code>var EventEmitter2 = require(\'eventemitter2\').EventEmitter2;\n\n// Catå­ç±»ç»§æ‰¿çˆ¶ç±»æ„é€ å­—\nfunction Cat() {\n    EventEmitter2.apply(this);\n    // Cat æ„é€ å­ï¼Œå±æ€§åˆå§‹åŒ–ç­‰\n}\n\n// åŸå‹ç»§æ‰¿\nCat.prototype = Object.create(EventEmitter2.prototype);\nCat.prototype.constructor = Cat; // =&gt; è¿™ä¸¤è¡Œçœ‹ä¸æ‡‚çš„å¯ä»¥å…ˆå¤ä¹ ä¸€ä¸‹JS\n\n// Catç±»æ–¹æ³•\nCat.prototype.run = function () {\n    console.log("This cat is running...");\n}\n\nvar cat = new Cat;\nconsole.assert(typeof cat.on == "function"); // =&gt; true\nconsole.assert(typeof cat.run == "function"); // =&gt; true\n</code></pre>\n\n<p>å¾ˆæ£’æ˜¯å§ï¼Œè¿™æ ·å°±å¯ä»¥å³æœ‰EventEmitter2çš„åŸå‹æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å®šä¹‰Catè‡ªèº«çš„æ–¹æ³•ã€‚</p>\n\n<p>è¿™ä¸€ç‚¹éƒ½ä¸æ£’ï¼æ¯æ¬¡å®šä¹‰ä¸€ä¸ªç±»éƒ½è¦é‡æ–°å†™ä¸€å †å•°å—¦çš„ä¸œè¥¿ï¼Œä¸‹é¢åšä¸ªç»§æ‰¿çš„æ”¹è¿›ï¼šæ„å»ºä¸€ä¸ªå‡½æ•°ï¼Œåªéœ€è¦ä¼ å…¥å·²ç»å®šä¹‰å¥½çš„ç±»å°±å¯ä»¥åœ¨ä¸å½±å“ç±»åŸæœ‰åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œè®©å…¶æ‹¥æœ‰EventEmitter2çš„åŠŸèƒ½ï¼š</p>\n\n<pre><code>// Function `eventify`: Making a class get power of EventEmitter2!\n// @copyright: Livoras\n// @date: 2015/3/27\n// All rights reserve!\n\nfunction eventify(klass) {\n    if (klass.prototype instanceof EventEmitter2) {\n        console.warn("Class has been eventified!");\n        return klass;\n    }\n\n    function Tempt() {\n        klass.apply(this, arguments);\n        EventEmitter2.call(this);\n    };\n    function Tempt2() {};\n\n    Tempt2.prototype = Object.create(EventEmitter2.prototype)\n    Tempt2.prototype.constructor = EventEmitter2;\n\n    var temptProp = Object.create(Tempt2.prototype);\n    var klassProp = klass.prototype;\n\n    for (var attr in klassProp) {\n        temptProp[attr] = klassProp[attr];\n    }\n\n    Tempt.prototype = temptProp;\n    Tempt.prototype.constructor = klass;\n\n    return Tempt;\n}\n</code></pre>\n\n<p>ä¸Šé¢çš„ä»£ç å¯ä»¥çš„å®ç°åŸç†åœ¨è¿™é‡Œå¹¶ä¸é‡è¦çš„ï¼Œæœ‰å…´è¶£çš„å¯ä»¥çœ‹ä¸‹ä¸€ç¯‡åšå®¢ï¼Œè®¨è®º<code>eventify</code>çš„å®ç°åŸç†ã€‚åœ¨è¿™é‡Œåªéœ€è¦çŸ¥é“ï¼Œæœ‰äº†eventifyå°±å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç»™ç±»æ·»åŠ EventEmitter2çš„åŠŸèƒ½ï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>\n\n<pre><code>// Dogç±»çš„æ„é€ å‡½æ•°å’ŒåŸå‹æ–¹æ³•å®šä¹‰\nfunction Dog(name) {\n  this.name = name;\n}\n\nDog.prototype.park = function() {\n  console.log(this.name + " parking....");\n}\n\n// ä½¿Dogå…·æœ‰EventEmitter2åŠŸèƒ½\nDog = eventify(Dog);\nvar dog = new Dog("Jerry");\n\ndog.on("somebody is coming", function() {\n    dog.park();\n})\n\ndog.emit("somebody is coming") // è¾“å‡º Jerry is parking....\n</code></pre>\n\n<p>å¦‚ä¸Šé¢çš„ä»£ç ï¼Œç°åœ¨æ²¡æœ‰å¿…è¦ä¸ºDogç±»é‡æ–°ä¹¦å†™ç±»ç»§æ‰¿ä»£ç ï¼Œåªéœ€è¦æŒ‰æ­£å¸¸çš„æ–¹å¼å®šä¹‰å¥½Dogç±»ï¼Œç„¶åä¼ å…¥eventifyå‡½æ•°å³å¯ä½¿Dogè·å–EventEmitter2çš„åŠŸèƒ½ã€‚æœ¬æ–‡æ¥ä¸‹æ¥çš„è®¨è®ºä¼šæŒç»­ä½¿ç”¨<code>eventify</code>å‡½æ•°ã€‚</p>\n\n<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœä½ æ­£åœ¨ä½¿ç”¨CoffeeScriptï¼Œç›´æ¥ä½¿ç”¨CoffeeScriptè‡ªå¸¦çš„extendsè¿›è¡Œç±»ç»§æ‰¿å³å¯ï¼Œæ— éœ€ä¸Šé¢å¤æ‚çš„ä»£ç ï¼š</p>\n\n<pre><code>class Dog extends EventEmitter2\n    constructor: -&gt;\n        super.apply @, arguments\n    park: -&gt;\n        // ...\n</code></pre>\n\n<h2>3. EventEmitter2 åœ¨ç»„ä»¶åŒ–çš„å‰ç«¯æ¶æ„ä¸­çš„åº”ç”¨</h2>\n\n<h3>3.1 ç»„ä»¶åŒ–çš„å‰ç«¯æ¶æ„</h3>\n\n<p>å½“ä¸€ä¸ªå‰ç«¯åº”ç”¨è¶³å¤Ÿå¤æ‚çš„æ—¶å€™ï¼Œå¾€å¾€éœ€è¦å¯¹åº”ç”¨è¿›è¡Œâ€œç»„ä»¶åŒ–â€ã€‚æ‰€è°“ç»„ä»¶åŒ–ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå¤§çš„åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå°çš„åº”ç”¨ã€‚æ¯ä¸ªâ€œåº”ç”¨â€å…·æœ‰è‡ªå·±ç‹¬ç‰¹çš„ç»“æ„å’Œå†…å®¹ã€æ ·å¼å’Œä¸šåŠ¡é€»è¾‘ï¼Œè¿™äº›å°çš„åº”ç”¨ç§°ä¸ºâ€œç»„ä»¶â€ï¼ˆComponentï¼‰ã€‚ç»„ä»¶çš„å¤ç”¨æ€§ä¸€èˆ¬å¾ˆå¼ºï¼Œæ˜¯DRYåŸåˆ™çš„å…¸èŒƒï¼Œå¤šä¸ªç»„ä»¶çš„åµŒå¥—ã€ç»„åˆï¼Œæ„å»ºæˆäº†ä¸€ä¸ªå®Œæˆè€Œå¤æ‚çš„åº”ç”¨ã€‚</p>\n\n<p>ä¸¾æˆ‘åœ¨ã€Š<a href="http://livoras.com/post/22">ä¸€ç§SPAï¼ˆå•é¡µé¢åº”ç”¨ï¼‰æ¶æ„</a>ã€‹ä¸¾è¿‡çš„ä¾‹å­ï¼Œåšå®¢çš„è¯„è®ºåŠŸèƒ½ç»„ä»¶ï¼š</p>\n\n<p><img src="https://cloud.githubusercontent.com/assets/6436132/3597178/7cc6cd9c-0cce-11e4-8d7e-53f9e113d4c2.jpg" alt="comments-replies-poputbox"></p>\n\n<p>è¿™ä¸ªè¯„è®ºç»„ä»¶çš„åŠŸèƒ½å¤§æ¦‚å¦‚æ­¤ï¼š<strong>å¯æ˜¾ç¤ºå¤šæ¡è¯„è®ºï¼ˆcommentï¼‰ï¼›æ¯æ¡è¯„è®ºå¤šæ¡æœ‰è‡ªå·±çš„å›å¤ï¼ˆreplyï¼‰ï¼›è¯„è®ºæˆ–è€…å›å¤éƒ½ä¼šæ˜¾ç¤ºæœ‰ç”¨æˆ·å¤´åƒï¼Œé¼ æ ‡æ”¾åˆ°ç”¨æˆ·å¤´åƒä¸Šä¼šæ˜¾ç¤ºè¯¥ç”¨æˆ·çš„ä¿¡æ¯ï¼ˆç±»ä¼¼å¾®åšçš„åŠŸèƒ½ï¼‰</strong>ã€‚</p>\n\n<p>è¿™é‡Œå¯ä»¥æŠŠè¿™ä¸ªåŠŸèƒ½åˆ†å¥½å‡ ä¸ªç»„ä»¶ï¼š</p>\n\n<ol>\n<li>æ•´ä½“è¯„è®ºåŠŸèƒ½ä½œä¸ºä¸€ä¸ªç»„ä»¶ï¼šcommentsBox</li>\n<li>commentsBoxæœ‰å­ç»„ä»¶ï¼ˆchild componentï¼‰commentè´Ÿè´£æ˜¾ç¤ºç”¨æˆ·çš„è¯„è®º</li>\n<li>æ¯ä¸ªcommentç»„ä»¶æœ‰å­ç»„ä»¶replayè´Ÿè´£æ˜¾ç¤ºç”¨æˆ·å¯¹è¯„è®ºçš„å›å¤</li>\n<li>commentsBoxæœ‰å­ç»„ä»¶user-info-cardè´Ÿè´£æ˜¾ç¤ºç”¨æˆ·çš„ä¿¡æ¯</li>\n</ol>\n\n\n<p>ç»„ä»¶è¿™æ ·çš„å…³ç³»å¯ä»¥ç”¨æ ‘çš„ç»“æ„æ¥è¡¨ç¤ºï¼š</p>\n\n<p><img class="mid" src="https://raw.githubusercontent.com/livoras/blog-images/master/events/1.png"></p>\n\n<p>è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ç»„ä»¶ä¹‹é—´çš„å…³ç³»ä¸€èˆ¬æœ‰ä¸¤ç§ï¼šåµŒå¥—å’Œç»„åˆã€‚åµŒå¥—ï¼Œå¦‚ï¼Œæ¯ä¸ªcommentBoxæœ‰commentå’Œuser-info-cardï¼Œcommentå’Œuser-info-cardæ˜¯åµŒå¥—åœ¨commentBoxå½“ä¸­çš„ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªç»„ä»¶å’ŒcommentBoxä¹‹é—´éƒ½æ˜¯åµŒå¥—çš„å…³ç³»ï¼›ç»„åˆï¼Œcommentå’Œuser-info-cardéƒ½æ˜¯ä½œä¸ºcommentBoxçš„å­ç»„ä»¶å­˜åœ¨ï¼Œä»–ä»¬ä¸¤ä¸ªäº’ä¸ºå…„å¼Ÿï¼Œæ˜¯ç»„åˆçš„å…³ç³»ã€‚å¤„ç†ç»„ä»¶ä¹‹é—´çš„åµŒå¥—å’Œç»„åˆå…³ç³»æ˜¯æ¶æ„å±‚é¢éœ€è¦è§£å†³çš„æœ€é‡è¦çš„é—®é¢˜ä¹‹ä¸€ï¼Œä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´å†…ï¼Œæ•…ä¸ç´¯è¿°ã€‚ä½†æ¥ä¸‹æ¥æˆ‘ä»¬è®¨è®ºçš„â€œç»„ä»¶ä¹‹é—´ä»¥äº‹ä»¶çš„å½¢å¼è¿›è¡Œæ¶ˆæ¯ä¼ é€’â€å’Œè¿™äº›ç»„ä»¶ä¹‹é—´çš„å…³ç³»å¯†åˆ‡ç›¸å…³ã€‚</p>\n\n<p>å½“å¼€å§‹æŒ‰ç…§ä¸Šé¢çš„è®¾è®¡è¿›è¡Œç»„ä»¶åŒ–çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšçš„æ˜¯ä¸ºæ¯ä¸ªç»„ä»¶æ„å»ºä¸€ä¸ªè¶…ç±»ï¼Œæ‰€æœ‰çš„ç»„ä»¶éƒ½åº”è¯¥ç»§æ‰¿è¿™ä¸ªè¶…ç±»ï¼š</p>\n\n<p>component.js:</p>\n\n<pre><code>eventify = require("./eventify.js");\n\n// Componentæ„é€ å‡½æ•°\nfunction Component(parent) {\n    this.$el = $("...")\n    this.parent = parent;\n}\n\n// ComponentåŸå‹æ–¹æ³•\nComponent.prototype.init = function () {/* ... */};\n\nmodule.exports = eventify(Component);\n</code></pre>\n\n<p>è¿™é‡Œä¸ºäº†æ–¹ä¾¿èµ·è§ï¼ŒComponentåŸºæœ¬ä»€ä¹ˆå†…å®¹éƒ½æ²¡æœ‰ï¼Œå‡ ä¹åªæ˜¯ä¸€ä¸ªâ€œç©ºâ€çš„ç±»ï¼Œè€Œå®ƒé€šè¿‡eventifyå‡½æ•°è·å¾—äº†â€œè¶…èƒ½åŠ›â€ï¼Œæ‰€ä»¥ç»§æ‰¿Componentçš„ç±»åŒæ ·å…·æœ‰äº‹ä»¶çš„åŠŸèƒ½ã€‚</p>\n\n<p>æ³¨æ„Componentæ„é€ å‡½æ•°ï¼Œæ¯ä¸ªComponentåœ¨ç¤ºä¾‹åŒ–çš„æ—¶å€™åº”è¯¥ä¼ å…¥ä¸€ä¸ªå®ƒæ‰€å±çš„<strong>çˆ¶ç»„ä»¶</strong>çš„å®ä¾‹<code>parent</code>ï¼Œæ¥ä¸‹æ¥ä¼šçœ‹åˆ°ï¼Œç»„ä»¶ä¹‹é—´çš„æ¶ˆæ¯é€šä¿¡å¯ä»¥é€šè¿‡è¿™ä¸ªå®ä¾‹æ¥å®Œæˆã€‚è€Œ<code>$el</code>å¯ä»¥çœ‹ä½œæ˜¯è¯¥ç»„ä»¶æ‰€è´Ÿè´£çš„HTMLå…ƒç´ ã€‚</p>\n\n<h3>3.2 çˆ¶å­ã€å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’</h3>\n\n<p>ç°åœ¨æŠŠæ³¨æ„åŠ›æ”¾åœ¨commentsBoxã€commentã€user-info-cardä¸‰ä¸ªç»„ä»¶ä¸Šï¼Œæš‚ä¸”å¿½ç•¥replyã€‚</p>\n\n<p>ç›®å‰è¦å®ç°çš„åŠŸèƒ½æ˜¯ï¼šé¼ æ ‡æ”¾åˆ°commentç»„ä»¶çš„ç”¨æˆ·å¤´åƒä¸Šï¼Œå°±ä¼šæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ã€‚è¦æŠŠè¿™ä¸ªåŠŸèƒ½å®Œæˆå¤§æ¦‚æ˜¯è¿™ä¹ˆä¸€ä¸ªäº‹ä»¶æµç¨‹ï¼šcommentç»„ä»¶ç›‘å¬ç”¨æˆ·é¼ æ ‡æ”¾åœ¨å¤´åƒä¸Šçš„äº¤äº’äº‹ä»¶ï¼Œç„¶åé€šè¿‡<code>this.parent</code>å‘çˆ¶ç»„ä»¶ï¼ˆcommentsBoxï¼‰ä¼ é€’è¯¥äº‹ä»¶ï¼ˆ<code>this.parent</code>å°±æ˜¯commentsBoxï¼‰ï¼ŒcommentsBoxè·å–åˆ°è¯¥äº‹ä»¶ä»¥åè§¦å‘ä¸€ä¸ªäº‹ä»¶ç»™user-info-cardï¼Œuser-info-cardå¯ä»¥é€šè¿‡<code>this.parent</code>ç›‘å¬åˆ°è¯¥äº‹ä»¶ï¼Œæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ã€‚</p>\n\n<pre><code>// comment-component.js\n// ä»Componentç±»ä¸­ç»§æ‰¿è·å¾—Commentç±»\n// ...\n\n// åŸå‹æ–¹æ³•\nComment.prototype.init = function () {\n    var that = this;\n    this.$el.find("div.avatar").on("mouseover", function () {\n        // è¿™é‡Œçš„that.parentç›¸å½“äºçˆ¶ç»„ä»¶CommentsBoxï¼Œåœ¨Commentç»„ä»¶è¢«ç¤ºä¾‹åŒ–çš„æ—¶å€™ä¼ å…¥\n        that.parent.emit("comment:user-mouse-on-avatar", this.userId);\n    })\n}\n</code></pre>\n\n<p>]ä¸Šè¿°ä»£ç ä¸ºå½“ç”¨æˆ·æŠŠé¼ æ ‡æ”¾åˆ°ç”¨æˆ·å¤´åƒçš„æ—¶å€™è§¦å‘ä¸€ä¸ªäº‹ä»¶<code>comment:user-mouse-on-avatar</code>ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡<code>ç»„ä»¶å:äº‹ä»¶å</code>ç»™è¿™æ ·çš„äº‹ä»¶å‘½åæ–¹å¼å¯ä»¥åŒºåˆ†äº‹ä»¶çš„æ¥æºç»„ä»¶æˆ–ç›®æ ‡ç»„ä»¶ï¼Œæ˜¯ä¸€ç§æ¯”è¾ƒå¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚</p>\n',u={
_id:0,title:"Chair for fucking",details:{pictures:["assets/chair.jpg","assets/arduino.jpg","assets/dji.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},l={_id:0,title:"Arduino",details:{pictures:["assets/arduino.jpg","assets/chair.jpg","assets/dji.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},s={_id:0,title:"DJI",details:{pictures:["assets/dji.jpg","assets/arduino.jpg","assets/chair.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},p={_id:0,title:"DJI",details:{pictures:["assets/pig.jpg","assets/arduino.jpg","assets/chair.jpg","assets/dji.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},f=[u,l,s,p];n["default"]=function(e){var t=[];e=e||20*Math.random();for(var n=0,o=e;o>n;n++){var r=parseInt(f.length*Math.random()),u=a["default"]({},f[r]);u.title=u.title+"_"+n,u._id=n,u.content.brief=c.randomContent(),u.title=c.randomWord(),u.details.upvote=Math.floor(2e5*Math.random()),u.content.extended=i,u.details.ext={"é—­åˆæ–¹å¼":"å¥—è„š","é£æ ¼":"ç™¾æ­,æ—¶å°šä¼‘","å­£èŠ‚":"æ˜¥å­£","æ¬¾å¼":"å•","æµè¡Œå…ƒç´ ":"çº¯è‰²,é‡‘å±è£…é¥°","çš®è´¨ç‰¹å¾":"ç£¨ç ‚","è‰²ç³»":"æ£•è‰²","é€‚ç”¨åœºåˆ":"æ—¥å¸¸æºå¸¦,çº¦ä¼š,æ—¥å¸¸ä¼‘","é”€å”®å­£":"15å¹´æ˜¥å­£","é‹åº•æè´¨":"æ©¡èƒ¶","é‹è·Ÿå½¢çŠ¶":"å¹³è·Ÿ","å¤´":"åœ†","æ€§åˆ«":"ç”·å­","åˆ¶ä½œå·¥è‰º":"èƒ¶è´´çš®é‹ "},u.posts=[{_id:0,title:"ä¹ è¿‘å¹³ä¸»æŒæ”¿æ²»å±€ä¼šè®® é€šè¿‡ç¹è£æ–‡è‰ºæ„è§"},{_id:1,title:"ä¸­è¶Šè¾¹å¢ƒé›·åŒºå››ä¼:æœ‰æ‘åº„å¹³å‡æ¯æˆ·å°‘ä¸€æ¡è…¿"},{_id:0,title:"å¤©æ´¥çˆ†ç‚¸8åå¤±è”è€…è¢«ç¡®è®¤æ— ç”Ÿè¿˜å¯èƒ½"},{_id:1,title:"å¤®è§†å›åº”èŠ‚ç›®ä¸­ç›—æ’­ç½‘å‹ä½œå“:ç¼–è¾‘ç½‘è´­ä»˜è´¹è´­å¾—"}],t.push(u)}return t},t.exports=n["default"]},{"./util":17,"object-assign":1}],17:[function(e,t,n){"use strict";function o(e){e=e||Math.floor(2+25*Math.random());for(var t=r(),n=0;e>n;n++)t=t+" "+r();return t}function r(){for(var e="",t="abcdefghijklmnopqrstuvwxyz",n=Math.floor(3+10*Math.random()),o=0;n>o;o++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={randomWord:r,randomContent:o},t.exports=n["default"]},{}]},{},[15]);