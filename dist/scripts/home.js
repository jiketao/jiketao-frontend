!function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=r[a]={exports:{}};e[a][0].call(u.exports,function(t){var r=e[a][1][t];return o(r?r:t)},u,u.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){},{}],2:[function(t,e,r){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(t,e){for(var r,a,s=n(t),c=1;c<arguments.length;c++){r=Object(arguments[c]);for(var u in r)o.call(r,u)&&(s[u]=r[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(r);for(var l=0;l<a.length;l++)i.call(r,a[l])&&(s[a[l]]=r[a[l]])}}return s}},{}],3:[function(t,e,r){function n(t,e){function r(){t.Request.apply(this,arguments)}r.prototype=Object.create(t.Request.prototype),r.prototype.end=function(r){var n=t.Request.prototype.end,o=this;return new e(function(t,e){n.call(o,function(n,o){r&&r(n,o),n?e(n):t(o)})})},r.prototype.then=function(r,n){var o=t.Request.prototype.end,i=this;return new e(function(t,e){o.call(i,function(r,n){r?e(r):t(n)})}).then(r,n)};var n=function(t,e){return new r(t,e)};return n.options=function(t){return n("OPTIONS",t)},n.head=function(t,e){var r=n("HEAD",t);return e&&r.send(e),r},n.get=function(t,e){var r=n("GET",t);return e&&r.query(e),r},n.post=function(t,e){var r=n("POST",t);return e&&r.send(e),r},n.put=function(t,e){var r=n("PUT",t);return e&&r.send(e),r},n.patch=function(t,e){var r=n("PATCH",t);return e&&r.send(e),r},n.del=function(t){return n("DELETE",t)},n}e.exports=n},{}],4:[function(t,e,r){function n(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(t){return t===Object(t)}function a(t){if(!i(t))return t;var e=[];for(var r in t)null!=t[r]&&e.push(encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e.join("&")}function s(t){for(var e,r,n={},o=t.split("&"),i=0,a=o.length;a>i;++i)r=o[i],e=r.split("="),n[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return n}function c(t){var e,r,n,o,i=t.split(/\r?\n/),a={};i.pop();for(var s=0,c=i.length;c>s;++s)r=i[s],e=r.indexOf(":"),n=r.slice(0,e).toLowerCase(),o=y(r.slice(e+1)),a[n]=o;return a}function u(t){return t.split(/ *; */).shift()}function l(t){return v(t.split(/ *; */),function(t,e){var r=e.split(/ *= */),n=r.shift(),o=r.shift();return n&&o&&(t[n]=o),t},{})}function p(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=c(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function f(t,e){var r=this;d.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new p(r)}catch(n){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=n,r.callback(t)}if(r.emit("response",e),t)return r.callback(t,e);if(e.status>=200&&e.status<300)return r.callback(t,e);var o=new Error(e.statusText||"Unsuccessful HTTP response");o.original=t,o.response=e,o.status=e.status,r.callback(o,e)})}function h(t,e){return"function"==typeof e?new f("GET",t).end(e):1==arguments.length?new f("GET",t):new f(t,e)}var d=t("emitter"),v=t("reduce"),m="undefined"==typeof window?this||self:window;h.getXHR=function(){if(!(!m.XMLHttpRequest||m.location&&"file:"==m.location.protocol&&m.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var y="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};h.serializeObject=a,h.parseString=s,h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},p.prototype.get=function(t){return this.header[t.toLowerCase()]},p.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=u(e);var r=l(e);for(var n in r)this[n]=r[n]},p.prototype.parseBody=function(t){var e=h.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},p.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},p.prototype.toError=function(){var t=this.req,e=t.method,r=t.url,n="cannot "+e+" "+r+" ("+this.status+")",o=new Error(n);return o.status=this.status,o.method=e,o.url=r,o},h.Response=p,d(f.prototype),f.prototype.use=function(t){return t(this),this},f.prototype.timeout=function(t){return this._timeout=t,this},f.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},f.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},f.prototype.set=function(t,e){if(i(t)){for(var r in t)this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},f.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},f.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},f.prototype.type=function(t){return this.set("Content-Type",h.types[t]||t),this},f.prototype.accept=function(t){return this.set("Accept",h.types[t]||t),this},f.prototype.auth=function(t,e){var r=btoa(t+":"+e);return this.set("Authorization","Basic "+r),this},f.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},f.prototype.field=function(t,e){return this._formData||(this._formData=new m.FormData),this._formData.append(t,e),this},f.prototype.attach=function(t,e,r){return this._formData||(this._formData=new m.FormData),this._formData.append(t,e,r),this},f.prototype.send=function(t){var e=i(t),r=this.getHeader("Content-Type");if(e&&i(this._data))for(var n in t)this._data[n]=t[n];else"string"==typeof t?(r||this.type("form"),r=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+t:t:(this._data||"")+t):this._data=t;return!e||o(t)?this:(r||this.type("json"),this)},f.prototype.callback=function(t,e){var r=this._callback;this.clearTimeout(),r(t,e)},f.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},f.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},f.prototype.withCredentials=function(){return this._withCredentials=!0,this},f.prototype.end=function(t){var e=this,r=this.xhr=h.getXHR(),i=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=t||n,r.onreadystatechange=function(){if(4==r.readyState){var t;try{t=r.status}catch(n){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var c=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(r.onprogress=c);try{r.upload&&this.hasListeners("progress")&&(r.upload.onprogress=c)}catch(u){}if(a&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},a)),i&&(i=h.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),r.open(this.method,this.url,!0),this._withCredentials&&(r.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!o(s)){var l=this.getHeader("Content-Type"),p=h.serialize[l?l.split(";")[0]:""];p&&(s=p(s))}for(var f in this.header)null!=this.header[f]&&r.setRequestHeader(f,this.header[f]);return this.emit("request",this),r.send(s),this},f.prototype.then=function(t,e){return this.end(function(r,n){r?e(r):t(n)})},h.Request=f,h.get=function(t,e,r){var n=h("GET",t);return"function"==typeof e&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n},h.head=function(t,e,r){var n=h("HEAD",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.del=function(t,e){var r=h("DELETE",t);return e&&r.end(e),r},h.patch=function(t,e,r){var n=h("PATCH",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.post=function(t,e,r){var n=h("POST",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},h.put=function(t,e,r){var n=h("PUT",t);return"function"==typeof e&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n},e.exports=h},{emitter:5,reduce:6}],5:[function(t,e,r){function n(t){return t?o(t):void 0}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function r(){n.off(t,r),e.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},r.fn=e,this.on(t,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r=this._callbacks[t];if(!r)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var n,o=0;o<r.length;o++)if(n=r[o],n===e||n.fn===e){r.splice(o,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),r=this._callbacks[t];if(r){r=r.slice(0);for(var n=0,o=r.length;o>n;++n)r[n].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],6:[function(t,e,r){e.exports=function(t,e,r){for(var n=0,o=t.length,i=3==arguments.length?r:t[n++];o>n;)i=e.call(null,i,t[n],++n,t);return i}},{}],7:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t){return a["default"].get("/products",t).set("Accept","application/json").end()}Object.defineProperty(r,"__esModule",{value:!0});var i=t("./request"),a=n(i);r["default"]={getProducts:o},e.exports=r["default"]},{"./request":8}],8:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("superagent-promise")(t("superagent"),Promise);r["default"]=n,e.exports=r["default"]},{superagent:4,"superagent-promise":3}],9:[function(t,e,r){"use strict";function n(t){alert(t)}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={show:n},e.exports=r["default"]},{}],10:[function(t,e,r){"use strict";function n(t){console.log(t)}function o(t){var e={};return t.forEach(function(t){e[t.name]=t}),e}Object.defineProperty(r,"__esModule",{value:!0}),r.log=n,r.makeSkuMap=o},{}],11:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this)}return o(e,t),i(e,[{key:"render",value:function(){var t=(this.props.size||48)+"px",e={height:t,width:t};return React.createElement("a",{href:"/users/"+this.props.user._id},React.createElement("img",{className:"avatar",style:e,src:this.props.user.avatar}))}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],12:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(t){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),i(e,[{key:"onActivate",value:function(t,e){this.props.onCateChange&&this.props.onCateChange(e)}},{key:"getCateItems",value:function(){var t=this;return this.props.categories.map(function(e,r){var n=e._id===t.props.activeCateId?"category-item active":"category-item";return React.createElement("li",{className:n,key:e._id,onClick:t.onActivate.bind(t,r,e),onTouchStart:t.onActivate.bind(t,r,e)},e.name)})}},{key:"render",value:function(){return React.createElement("div",{className:"categories-bar"},React.createElement("ul",null,this.getCateItems()))}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],13:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(t){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),i(e,[{key:"render",value:function(){return React.createElement("div",{className:"footer"})}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],14:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this)}return o(e,t),i(e,[{key:"render",value:function(){return React.createElement("div",{className:"hot-topic-slide"})}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],15:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(t){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),i(e,[{key:"render",value:function(){var t=this.props.isShow?"mask show":"mask";return React.createElement("div",{className:t})}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],16:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(t){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),i(e,[{key:"render",value:function(){var t=this;return React.createElement("div",{className:"menus-wrapper"},React.createElement("h1",null,React.createElement("a",{href:"/"},"极客淘")),React.createElement("ul",{className:"menus"},this.props.menus.map(function(e,r){return React.createElement("li",{className:"menu-item",key:r},React.createElement("a",{className:r===t.props.activeIndex?"active":"",href:e.url},e.name))})))}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],17:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(t){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={isShow:!1},this.pageCount=this.recount()}return o(e,t),i(e,[{key:"componentWillUpdate",value:function(){this.pageCount=this.recount()}},{key:"recount",value:function(){var t=this.props.totalCount,e=this.props.pageCapacity,r=Math.floor(t/e);return t%e!==0&&r++,r}},{key:"show",value:function(){this.setState({isShow:!0})}},{key:"hide",value:function(){this.setState({isShow:!1})}},{key:"pages",value:function(){var t=this.state.isShow?"active":"";return React.createElement("div",{className:"pages page-unit",onClick:this.show.bind(this),onTouchStart:this.show.bind(this),onMouseLeave:this.hide.bind(this)},React.createElement("ul",{className:t},this.pageItems()),React.createElement("span",{className:"page-item"},"第 ",this.props.currentPage," 页"))}},{key:"selectPage",value:function(t,e){e.stopPropagation(),t!==this.props.currentPage&&(this.setState({currentPage:t,isShow:!1}),"function"==typeof this.props.onPageChange&&this.props.onPageChange(t))}},{key:"pageItems",value:function(){for(var t=[],e=this.pageCount;0!=e;e--){var r=e===this.props.currentPage?"active":null;t.push(React.createElement("li",{className:r,key:e,onTouchEnd:this.selectPage.bind(this,e),onClick:this.selectPage.bind(this,e)},React.createElement("span",{className:"page-item"},"第 ",e," 页")))}return t}},{key:"previousPage",value:function(){return 1!==this.props.currentPage?React.createElement("div",{className:"previous-page page-unit",onTouchStart:this.selectPage.bind(this,this.props.currentPage-1),onClick:this.selectPage.bind(this,this.props.currentPage-1)},"上一页"):void 0}},{key:"nextPage",value:function(){return this.props.currentPage!==this.pageCount?React.createElement("div",{className:"next-page page-unit",onClick:this.selectPage.bind(this,this.props.currentPage+1),onTouchStart:this.selectPage.bind(this,this.props.currentPage+1)},"下一页"):void 0}},{key:"render",value:function(){return this.recount(),React.createElement("div",{className:"paginate"},React.createElement("div",{className:"paginate-align"},this.previousPage(),this.pages(),this.nextPage()))}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],18:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},c=t("./product"),u=n(c),l=function(t){function e(){o(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this)}return i(e,t),a(e,[{key:"render",value:function(){var t=this,e=function(){return t.props.products.map(function(t){return React.createElement(u["default"],{product:t,key:t._id})})};return React.createElement("div",null,e())}}]),e}(React.Component);r["default"]=l,e.exports=r["default"]},{"./product":19}],19:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(t){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t)}return o(e,t),i(e,[{key:"render",value:function(){return React.createElement("div",{className:"product"},React.createElement("div",{className:"item-right"},React.createElement("img",{src:this.props.product.details.pictures[0]})),React.createElement("div",{className:"item-left"},React.createElement("h3",{className:"item-title"},React.createElement("a",{href:"/products/"+this.props.product._id},this.props.product.title)),React.createElement("p",{className:"item-content"},this.props.product.content.brief,"..."),React.createElement("div",{className:"item-info"},React.createElement("span",{className:"item-publish-date"},this.props.product.date," 发布"),"|  ",React.createElement("span",{className:"item-publish-upvote"},this.props.product.details.upvote," 人觉得很赞"))))}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],20:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this)}return o(e,t),i(e,[{key:"render",value:function(){return React.createElement("div",{className:"recommendation-slider"})}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],21:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this)}return o(e,t),i(e,[{key:"render",value:function(){var t="嗖～！";return React.createElement("div",{className:"search"},React.createElement("input",{type:"text",placeholder:this.props.placeholder||t}),React.createElement("span",{className:"search-icon center"},React.createElement("i",{className:"fa fa-search"})))}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],22:[function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(r,"__esModule",{value:!0});var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},s=function(t){function e(t){n(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.onResize()}return o(e,t),i(e,[{key:"onResize",value:function(){var t=this,e=null;window.addEventListener("resize",function(){clearTimeout(e),e=setTimeout(function(){t.forceUpdate()},200)},!1)}},{key:"getStyles",value:function(t,e,r){var t=document.body.offsetWidth;

t=.96*t>960?960:.96*t,e=.4167*t;var n=2,o=t/2;return 400>t&&(r=2),{overview:{width:t+"px",height:e+"px"},right:{width:(t-r-n)/2+"px",marginLeft:r+"px"},left:{width:(t-r)/2+"px"},rightUp:{height:(e-r)/2+"px",marginBottom:r+"px"},rightBottom:{height:(e-r)/2+"px"},rightBottomLeft:{width:(o-r)/2-n+"px",marginRight:r+"px"},rightBottomRight:{width:function(){return 2===r?(o-r)/2+"px":(o-r)/2-n+"px"}()}}}},{key:"render",value:function(){var t=this.props.width||960,e=this.props.height||400,r=5,n=this.getStyles(t,e,r);return React.createElement("div",{className:"sku",style:n.overview,ref:"wrapper"},React.createElement("a",{href:this.props.skus[0].url,target:"_blank"},React.createElement("div",{className:"sku-left",style:n.left},React.createElement("img",{src:this.props.skus[0].picture,className:"pic"}))),React.createElement("div",{className:"sku-right",style:n.right},React.createElement("a",{href:this.props.skus[1].url,target:"_blank"},React.createElement("div",{className:"sku-right-up",style:n.rightUp},React.createElement("img",{src:this.props.skus[1].picture,className:"pic"}))),React.createElement("div",{className:"sku-right-bottom",style:n.rightBottom},React.createElement("a",{href:this.props.skus[2].url,target:"_blank"},React.createElement("div",{className:"sku-right-bottom-left",style:n.rightBottomLeft},React.createElement("img",{src:this.props.skus[2].picture,className:"pic"}))),React.createElement("a",{href:this.props.skus[3].url,target:"_blank"},React.createElement("div",{className:"sku-right-bottom-right",style:n.rightBottomRight},React.createElement("img",{src:this.props.skus[3].picture,className:"pic"}))))))}}]),e}(React.Component);r["default"]=s,e.exports=r["default"]},{}],23:[function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),s=function(t,e,r){for(var n=!0;n;){var o=t,i=e,a=r;s=u=c=void 0,n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var c=s.get;return void 0===c?void 0:c.call(a)}var u=Object.getPrototypeOf(o);if(null===u)return void 0;t=u,e=i,r=a,n=!0}},c=(t("./common/util"),t("./components/product-list")),u=n(c),l=t("./components/menu"),p=n(l),f=t("./components/search"),h=n(f),d=t("./components/avatar"),v=(n(d),t("./components/recommendation-slider")),m=n(v),y=t("./components/hot-topic-slide"),g=n(y),b=t("./components/sku"),w=n(b),O=t("./components/categories-bar"),_=n(O),P=t("./components/paginate"),j=n(P),E=t("./components/footer"),k=n(E),R=t("./components/mask"),x=n(R),C=t("../../test/fixtures/products"),T=n(C),N=t("./apis/products"),S=n(N),M=t("./common/modal"),D=n(M),q=window.menus||[{name:"首页",url:"/"},{name:"关于",url:"/about"},{name:"...",url:"/"}],L=0,I=window.productCategories||[{name:"所有",_id:0},{name:"电脑",_id:1},{name:"键盘",_id:2},{name:"办公椅",_id:3},{name:"软件",_id:4},{name:"背包",_id:5},{name:"鸡鸡",_id:6}],A=window.activeProductCategoryId||0,H=window.products||T["default"](20),F=window.totalProuctCount||100,X=window.postCategories||[{name:"所有",_id:0},{name:"电脑",_id:1},{name:"键盘",_id:2},{name:"办公椅",_id:3},{name:"软件",_id:4},{name:"背包",_id:5},{name:"鸡鸡",_id:6}],z=window.activePostCategoryId||0,B=window.posts||[],U=window.totalPostCount||100,G=window.skus||[{name:"home-sku1",url:"http://baidu.com",picture:"assets/watch.jpg"},{name:"home-sku2",url:"http://weibo.com",picture:"assets/mac.png"},{name:"home-sku3",url:"http://mp.weixin.qq.com",picture:"assets/arduino.jpg"},{name:"home-sku4",url:"http://zhihu.com",picture:"assets/phone2.png"}],J=10,W=function(t){function e(t){o(this,e),s(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,t),this.state={menus:q,activeMenuIndex:L,productCategories:I,products:H,activeProductCategoryId:A,totalProuctCount:F,postCategories:X,posts:B,activePostCategoryId:z,totalPostCount:U,currentPage:1}}return i(e,t),a(e,[{key:"onCateChange",value:function(t){this.state.isLoading||this.setState({activeProductCategoryId:t._id,currentPage:1},this.load.bind(this))}},{key:"onPageChange",value:function(t){this.setState({currentPage:t},this.load.bind(this))}},{key:"load",value:function(){var t=this;this.state.isLoading||(this.moveToTop(),this.setState({isLoading:!0}),S["default"].getProducts({categoryId:this.state.activeProductCategoryId,pageNum:this.state.currentPage,pageCount:J}).then(function(e){var r=e.body;t.setState({products:r.list,totalProuctCount:r.totalCount,isLoading:!1})})["catch"](function(e,r,n){D["default"].show(n),t.setState({isLoading:!1})}))}},{key:"moveToTop",value:function(){var t=React.findDOMNode(this.refs.catebar);window.scrollY>t.offsetTop&&window.scrollTo(0,t.offsetTop)}},{key:"skus",value:function(){return window.hideSkus?"":React.createElement(w["default"],{skus:G})}},{key:"render",value:function(){return React.createElement("div",null,React.createElement("div",{className:"nav-bar"},React.createElement(p["default"],{menus:this.state.menus,activeIndex:this.state.activeMenuIndex}),React.createElement("div",{className:"align-content"},React.createElement(h["default"],null))),React.createElement("div",{className:"content"},this.skus(),React.createElement(_["default"],{ref:"catebar",categories:this.state.productCategories,activeCateId:this.state.activeProductCategoryId,onCateChange:this.onCateChange.bind(this)}),React.createElement("div",{className:"content-left"},React.createElement(x["default"],{isShow:this.state.isLoading}),React.createElement(u["default"],{products:this.state.products}),React.createElement(j["default"],{totalCount:this.state.totalProuctCount,pageCapacity:J,currentPage:this.state.currentPage,onPageChange:this.onPageChange.bind(this)})),React.createElement("div",{className:"content-right"},React.createElement(m["default"],null),React.createElement(g["default"],null))),React.createElement(k["default"],null))}}]),e}(React.Component);React.render(React.createElement(W,null),document.getElementById("wrapper"))},{"../../test/fixtures/products":24,"./apis/products":7,"./common/modal":9,"./common/util":10,"./components/avatar":11,"./components/categories-bar":12,"./components/footer":13,"./components/hot-topic-slide":14,"./components/mask":15,"./components/menu":16,"./components/paginate":17,"./components/product-list":18,"./components/recommendation-slider":20,"./components/search":21,"./components/sku":22}],24:[function(t,e,r){(function(n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(r,"__esModule",{value:!0});var i=t("object-assign"),a=o(i),s=t("./util"),c=t("fs"),u=c.readFileSync(n+"/markdown-result.html","utf-8"),l={_id:0,title:"Chair for fucking",details:{pictures:["assets/chair.jpg","assets/arduino.jpg","assets/dji.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},p={_id:0,title:"Arduino",details:{pictures:["assets/arduino.jpg","assets/chair.jpg","assets/dji.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},f={_id:0,title:"DJI",details:{pictures:["assets/dji.jpg","assets/arduino.jpg","assets/chair.jpg","assets/pig.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},h={_id:0,title:"DJI",details:{pictures:["assets/pig.jpg","assets/arduino.jpg","assets/chair.jpg","assets/dji.jpg"],price:100,priceRange:{min:40,max:500}},content:{},date:"2015-07-28"},d=[l,p,f,h];r["default"]=function(t){var e=[];t=t||20*Math.random();for(var r=0,n=t;n>r;r++){var o=parseInt(d.length*Math.random()),i=a["default"]({},d[o]);i.title=i.title+"_"+r,i._id=r,i.content.brief=s.randomContent(),i.title=s.randomWord(),i.details.upvote=Math.floor(2e5*Math.random()),i.content.extended=u,i.details.ext={"闭合方式":"套脚","风格":"百搭,时尚休","季节":"春季","款式":"单","流行元素":"纯色,金属装饰","皮质特征":"磨砂","色系":"棕色","适用场合":"日常携带,约会,日常休","销售季":"15年春季","鞋底材质":"橡胶","鞋跟形状":"平跟","头":"圆","性别":"男子","制作工艺":"胶贴皮鞋 "},i.posts=[{_id:0,title:"习近平主持政治局会议 通过繁荣文艺意见"},{_id:1,title:"中越边境雷区四伏:有村庄平均每户少一条腿"},{_id:0,title:"天津爆炸8名失联者被确认无生还可能"},{_id:1,title:"央视回应节目中盗播网友作品:编辑网购付费购得"}],e.push(i)}return e},e.exports=r["default"]}).call(this,"/../../test/fixtures")},{"./util":25,fs:1,"object-assign":2}],25:[function(t,e,r){"use strict";function n(t){t=t||Math.floor(2+25*Math.random());for(var e=o(),r=0;t>r;r++)e=e+" "+o();return e}function o(){for(var t="",e="abcdefghijklmnopqrstuvwxyz",r=Math.floor(3+10*Math.random()),n=0;r>n;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}Object.defineProperty(r,"__esModule",{value:!0}),r["default"]={randomWord:o,randomContent:n},e.exports=r["default"]},{}]},{},[23]);